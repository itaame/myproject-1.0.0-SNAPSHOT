import{a as Oe}from"./chunk-VHKOYFL3.js";import{a as Zt,b as ei}from"./chunk-YM7KQBEK.js";import{a as ze}from"./chunk-FLUSJCAZ.js";import{a as ii,b as ai}from"./chunk-3ZCKYHEE.js";import{e as ni}from"./chunk-HUPVRRB6.js";import{a as be}from"./chunk-JMTGRK3T.js";import{b as B,d as k,e as gt,f as ti}from"./chunk-WVE4Y3TR.js";import{A as ht,B as At,Ba as le,Ca as o,Da as u,Df as Pe,E as b,Ea as f,Fa as te,Fb as pe,Fd as Vt,G as Ft,Gb as Nt,Gd as Yt,Hd as Ot,Hf as Z,I as Lt,Ia as I,Ib as $t,Id as zt,Ie as Ut,J as M,Jd as jt,K as q,Ka as h,Kb as oe,Kd as Ht,Ke as W,Kf as Ae,La as z,Lb as Mt,Oa as C,Ob as we,Pa as x,Pb as qt,Pe as Qt,Qa as N,Ra as me,Sb as Rt,Tf as Wt,U as vt,X as l,Y as v,Ze as Gt,Zf as Kt,_f as Ye,aa as c,ae as H,ag as Ne,bg as $e,ca as s,cb as $,cg as Xt,dc as ce,e as T,ea as ee,eb as ke,ec as de,eg as U,fg as Q,ga as d,ge as _e,ha as S,he as ue,hf as Ee,ia as g,ie as fe,if as Le,ig as Fe,ja as E,ka as a,ke as Ce,la as n,le as xe,lg as F,ma as _,mb as R,na as D,ne as ye,oa as P,oc as Bt,oe as he,of as Te,qa as ie,qb as j,qe as ve,ra as ne,re as Se,rg as w,sa as p,sb as ae,sg as Jt,tb as A,te as ge,tg as Et,uc as se,ug as Tt,vf as De,wa as V,xa as Y,xc as St,y as wt,ya as O,zc as Ve,zd as kt}from"./chunk-SAZ6MTOG.js";var Pt=(e,i)=>At(Dt).canActivate(e,i);var Dt=class e{constructor(i,t){this.authService=i;this.router=t}canActivate(i,t){return this.authService.getUser().hasSystemPrivilege("GetMissionDatabase")?!0:(this.router.navigate(["/403"],{queryParams:{page:t.url}}),!1)}canActivateChild(i,t){return this.canActivate(i,t)}static{this.\u0275fac=function(t){return new(t||e)(ht(Jt),ht(ae))}}static{this.\u0275prov=wt({token:e,factory:e.\u0275fac,providedIn:"root"})}};var je=class extends ce{constructor(t){super();this.yamcs=t;this.algorithms$=new T([]);this.totalSize$=new T(0);this.loading$=new T(!1)}connect(){return this.algorithms$}loadAlgorithms(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getAlgorithms(this.yamcs.instance,t).then(r=>{this.loading$.next(!1),this.totalSize$.next(r.totalSize),this.algorithms$.next(r.algorithms||[])})}disconnect(){this.algorithms$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var _i=["top"],ui=e=>["/mdb/algorithms",e],fi=e=>({c:e});function Ci(e,i){e&1&&(a(0,"th",21),o(1,"Name"),n())}function xi(e,i){if(e&1&&(a(0,"td",22)(1,"a",23),_(2,"ya-highlight",24),n()()),e&2){let t=i.$implicit,r=p(2);l(),s("routerLink",h(4,ui,t.qualifiedName))("queryParams",h(6,fi,r.yamcs.context)),l(),s("text",r.shortName?t.name:t.qualifiedName)("term",r.filterControl.value)}}function yi(e,i){e&1&&(a(0,"th",21),o(1,"Type"),n())}function hi(e,i){if(e&1&&(a(0,"td",22),o(1),n()),e&2){let t=i.$implicit;l(),u(t.type||"-")}}function vi(e,i){e&1&&(a(0,"th",21),o(1,"Language"),n())}function Si(e,i){if(e&1&&(a(0,"td",22),o(1),n()),e&2){let t=i.$implicit;l(),u(t.language||"-")}}function gi(e,i){e&1&&(a(0,"th",21),o(1,"Scope"),n())}function Ei(e,i){if(e&1&&(a(0,"td",22),o(1),n()),e&2){let t=i.$implicit;l(),u(t.scope||"-")}}function Ti(e,i){e&1&&(a(0,"th",21),o(1,"Description"),n())}function Di(e,i){if(e&1&&(a(0,"td",25),o(1),n()),e&2){let t=i.$implicit;l(),f(" ",t.shortDescription||"-"," ")}}function Pi(e,i){e&1&&_(0,"th",26)}function bi(e,i){e&1&&_(0,"td",22)}function Ii(e,i){e&1&&_(0,"tr",27)}function wi(e,i){if(e&1&&_(0,"tr",28),e&2){let t=i.$implicit,r=p(2);ee("selected",r.selection.isSelected(t))}}function Ai(e,i){if(e&1&&(a(0,"table",7),D(1,9),c(2,Ci,2,0,"th",10)(3,xi,3,8,"td",11),P(),D(4,12),c(5,yi,2,0,"th",10)(6,hi,2,1,"td",11),P(),D(7,13),c(8,vi,2,0,"th",10)(9,Si,2,1,"td",11),P(),D(10,14),c(11,gi,2,0,"th",10)(12,Ei,2,1,"td",11),P(),D(13,15),c(14,Ti,2,0,"th",10)(15,Di,2,1,"td",16),P(),D(16,17),c(17,Pi,1,0,"th",18)(18,bi,1,0,"td",11),P(),c(19,Ii,1,0,"tr",19),C(20,"async"),c(21,wi,1,2,"tr",20),C(22,"async"),n()),e&2){let t=p(),r=le(9);s("dataSource",t.dataSource),l(19),s("matHeaderRowDef",x(20,3,r.displayedColumns$)),l(2),s("matRowDefColumns",x(22,5,r.displayedColumns$))}}function Fi(e,i){if(e&1&&(a(0,"div",3),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any algorithms. "),n()),e&2){let t=p();l(3),u(t.yamcs.instance)}}var He=class e{constructor(i,t,r,m,y){this.yamcs=i;this.route=r;this.router=m;this.messageService=y;this.shortName=!1;this.pageSize=100;this.filterControl=new oe;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"type",label:"Type",visible:!0},{id:"language",label:"Language",visible:!0},{id:"scope",label:"Scope",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.selection=new de(!1);t.setTitle("Algorithms"),this.dataSource=new je(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;this.filterControl.setValue(i.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize},t=this.filterControl.value;t&&(i.q=t.toLowerCase()),this.dataSource.loadAlgorithms(i).then(()=>{this.selection.clear()}).catch(r=>this.messageService.showError(r))}updateURL(){let i=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:i||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.algorithms$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.min(i.indexOf(r)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.algorithms$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.max(i.indexOf(r)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.algorithms$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/algorithms",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}static{this.\u0275fac=function(t){return new(t||e)(v(F),v(R),v(j),v(ae),v(Te))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],viewQuery:function(t,r){if(t&1&&(V(_i,7),V(H,7)),t&2){let m;Y(m=O())&&(r.top=m.first),Y(m=O())&&(r.paginator=m.first)}},standalone:!0,features:[I],decls:15,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter algorithms",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","algorithms",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","language"],["matColumnDef","scope"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap200",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],["mat-cell","",1,"wrap200"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,r){if(t&1){let m=ie();a(0,"app-instance-page")(1,"app-instance-toolbar"),o(2,"Algorithms"),n(),_(3,"span",null,0),a(5,"div",3)(6,"div",4)(7,"ya-search-filter",5),ne("onArrowDown",function(){return M(m),q(r.selectNext())})("onArrowUp",function(){return M(m),q(r.selectPrevious())})("onEnter",function(){return M(m),q(r.applySelection())}),n(),_(8,"ya-column-chooser",6,1),n(),c(10,Ai,23,7,"table",7),_(11,"mat-paginator",8),C(12,"async"),n(),c(13,Fi,5,1,"ng-template",null,2,me),n()}t&2&&(l(7),s("formControl",r.filterControl),l(),s("columns",r.columns),l(2),d(r.dataSource?10:-1),l(),s("pageSize",r.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",x(12,7,r.dataSource.totalSize$)))},dependencies:[k,B,w,$,pe,we,A,H,_e,fe,he,Ce,ue,ve,xe,ye,Se,ge,W,Ee,De],encapsulation:2,changeDetection:0})}};var Li=["text"],Ni=(e,i)=>({c:e,filter:i}),Xe=e=>["/mdb/parameters/",e],Je=e=>({c:e});function $i(e,i){if(e&1&&(a(0,"a",2),o(1),n()),e&2){let t=i,r=p();s("queryParams",z(2,Ni,r.yamcs.context,t)),l(),f(" ",t," ")}}function Mi(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),u(t.namespace),l(2),u(t.name)}}function qi(e,i){if(e&1&&_(0,"app-markdown",3),e&2){let t=p();s("text",t.algorithm.longDescription)}}function Ri(e,i){e&1&&o(0," - ")}function Bi(e,i){e&1&&(_(0,"mat-divider"),a(1,"dl",4)(2,"dt"),o(3,"Text"),n(),a(4,"dd"),_(5,"div",6,0),n()())}function ki(e,i){if(e&1&&(a(0,"td"),o(1,"Operand"),n(),a(2,"td"),o(3),n()),e&2){let t=p().$implicit;l(3),u(t.value)}}function Vi(e,i){if(e&1&&(a(0,"td"),o(1,"Operator"),n(),a(2,"td"),o(3),n()),e&2){let t=p().$implicit;l(3),u(t.operator)}}function Yi(e,i){e&1&&(a(0,"td"),o(1,"Operand"),n(),a(2,"td"),o(3,"this"),n())}function Oi(e,i){if(e&1&&(a(0,"td"),o(1,"Operand"),n(),a(2,"td")(3,"a",7),o(4),n()()),e&2){let t=p().$implicit,r=p(2);l(3),s("routerLink",h(3,Xe,t.parameter.qualifiedName))("queryParams",h(5,Je,r.yamcs.context)),l(),f(" ",t.parameter.qualifiedName," ")}}function zi(e,i){if(e&1&&(a(0,"tr"),c(1,ki,4,1)(2,Vi,4,1)(3,Yi,4,0)(4,Oi,5,7),n()),e&2){let t,r=i.$implicit;l(),d((t=r.type)==="VALUE_OPERAND"?1:t==="OPERATOR"?2:t==="THIS_PARAMETER_OPERAND"?3:t==="PARAMETER"?4:-1)}}function ji(e,i){if(e&1&&(_(0,"mat-divider"),a(1,"dl",4)(2,"dt"),o(3,"Postfix expression"),n(),a(4,"dd")(5,"table",5)(6,"tr")(7,"th"),o(8,"Type"),n(),a(9,"th"),o(10,"Value"),n()(),g(11,zi,5,1,"tr",null,S),n()()()),e&2){let t=p();l(11),E(t.algorithm.mathElements)}}function Hi(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td")(4,"a",8),o(5),n()(),a(6,"td",9),o(7),n(),a(8,"td",9),o(9),n()()),e&2){let t=i.$implicit,r=p(2);l(2),u(t.inputName||"-"),l(2),s("routerLink",h(6,Xe,t.parameter.qualifiedName))("queryParams",h(8,Je,r.yamcs.context)),l(),f(" ",t.parameter.qualifiedName," "),l(2),f(" ",t.parameterInstance," "),l(2),f(" ",t.mandatory?"Yes":"No"," ")}}function Ui(e,i){if(e&1&&(a(0,"table",5)(1,"tr")(2,"th"),o(3,"Input name"),n(),a(4,"th"),o(5,"Parameter"),n(),a(6,"th"),o(7,"Instance"),n(),a(8,"th"),o(9,"Mandatory"),n()(),g(10,Hi,10,10,"tr",null,S),n()),e&2){let t=p();l(10),E(t.algorithm.inputParameter)}}function Qi(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Gi(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td")(4,"a",8),o(5),n()()()),e&2){let t=i.$implicit,r=p(2);l(2),u(t.outputName||"-"),l(2),s("routerLink",h(4,Xe,t.parameter.qualifiedName))("queryParams",h(6,Je,r.yamcs.context)),l(),f(" ",t.parameter.qualifiedName," ")}}function Wi(e,i){if(e&1&&(a(0,"table",5)(1,"tr")(2,"th"),o(3,"Output name"),n(),a(4,"th"),o(5,"Parameter"),n()(),g(6,Gi,6,8,"tr",null,S),n()),e&2){let t=p();l(6),E(t.algorithm.outputParameter)}}function Ki(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Xi(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"OnParameterUpdate"),n(),a(3,"td")(4,"a",8),o(5),n()()()),e&2){let t=i.$implicit,r=p();l(4),s("routerLink",h(3,Xe,t.qualifiedName))("queryParams",h(5,Je,r.yamcs.context)),l(),f(" ",t.qualifiedName," ")}}function Ji(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"OnPeriodicRate"),n(),a(3,"td"),o(4),n()()),e&2){let t=p();l(4),f("",t.algorithm.onPeriodicRate," ms")}}var We=class e{constructor(i){this.yamcs=i}set textContainer(i){let t=[kt,St.readOnly.of(!0),Ve.lineWrapping,Ve.theme({"&":{height:"300px",fontSize:"12px"},".cm-scroller":{overflow:"auto",fontFamily:"'Roboto Mono', monospace"}},{dark:!1})];switch(this.algorithm.language.toLowerCase()){case"java-expression":t.push(ii());break;case"javascript":t.push(ni());break;case"python":t.push(ai());break;default:console.warn(`Unexpected language ${this.algorithm.language}`)}let r=St.create({doc:this.algorithm.text,extensions:t});new Ve({state:r,parent:i.nativeElement})}static{this.\u0275fac=function(t){return new(t||e)(v(F))}}static{this.\u0275cmp=b({type:e,selectors:[["app-algorithm-detail"]],viewQuery:function(t,r){if(t&1&&V(Li,5),t&2){let m;Y(m=O())&&(r.textContainer=m.first)}},inputs:{algorithm:"algorithm"},standalone:!0,features:[I],decls:66,vars:16,consts:[["text",""],[1,"dl-horizontal","no-lead"],["routerLink","/mdb/algorithms",1,"ya-link",3,"queryParams"],[3,"text"],[1,"dl-horizontal"],["yaDataTable",""],[1,"algorithm-text"],[1,"ya-link",3,"routerLink","queryParams"],[3,"routerLink","queryParams"],[2,"text-align","center"]],template:function(t,r){if(t&1&&(a(0,"dl",1)(1,"dt"),o(2,"Algorithm"),n(),a(3,"dd"),o(4),C(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,$i,2,5,"a",2),C(10,"spaceSystemName"),n(),g(11,Mi,4,2,null,null,S),a(13,"dt"),o(14,"Short description"),n(),a(15,"dd"),o(16),n(),a(17,"dt"),o(18,"Long description"),n(),a(19,"dd"),c(20,qi,1,1,"app-markdown",3)(21,Ri,1,0),n()(),_(22,"mat-divider"),a(23,"dl",4)(24,"dt"),o(25,"Scope"),n(),a(26,"dd"),o(27),n(),a(28,"dt"),o(29,"Type"),n(),a(30,"dd"),o(31),n(),a(32,"dt"),o(33,"Language"),n(),a(34,"dd"),o(35),n()(),c(36,Bi,7,0)(37,ji,13,0),_(38,"mat-divider"),a(39,"dl",4)(40,"dt"),o(41,"Input parameters"),n(),a(42,"dd"),c(43,Ui,12,0,"table",5)(44,Qi,2,0,"span"),n()(),_(45,"mat-divider"),a(46,"dl",4)(47,"dt"),o(48,"Output parameters"),n(),a(49,"dd"),c(50,Wi,8,0,"table",5)(51,Ki,2,0,"span"),n()(),_(52,"mat-divider"),a(53,"dl",4)(54,"dt"),o(55,"Triggers"),n(),a(56,"dd")(57,"table",5)(58,"tr")(59,"th"),o(60,"Type"),n(),a(61,"th"),o(62,"Value"),n()(),g(63,Xi,6,7,"tr",null,S),c(65,Ji,5,1,"tr"),n()()()),t&2){let m;l(4),u(x(5,12,r.algorithm.qualifiedName)),l(5),d((m=x(10,14,r.algorithm.qualifiedName))?9:-1,m),l(2),E(r.algorithm.alias),l(5),u(r.algorithm.shortDescription||"-"),l(4),d(r.algorithm.longDescription?20:21),l(7),u(r.algorithm.scope||"-"),l(4),u(r.algorithm.type||"-"),l(4),u(r.algorithm.language||"-"),l(),d(r.algorithm.text?36:-1),l(),d(r.algorithm.mathElements?37:-1),l(6),d(r.algorithm.inputParameter?43:44),l(7),d(r.algorithm.outputParameter?50:51),l(13),E(r.algorithm.onParameterUpdate),l(2),d(r.algorithm.onPeriodicRate?65:-1)}},dependencies:[be,w,A,Z,se,U,Q],styles:["code[_ngcontent-%COMP%]{display:block;background-color:#fafafa;padding:1em;font-size:10px;border:1px solid #d3d3d3;white-space:pre}.algorithm-text[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12)}"],changeDetection:0})}};var Zi=(e,i)=>({c:e,filter:i});function en(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),C(3,"shortName"),_(4,"ya-title-copy",3)),e&2){let t=i,r=p(),m=p();s("queryParams",z(6,Zi,m.yamcs.context,t)),l(),f(" ",t," "),l(),f("/",x(3,4,r.qualifiedName)," "),l(2),s("text",r.qualifiedName)}}function tn(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,en,5,9),C(3,"spaceSystemName"),n(),a(4,"div",0),_(5,"app-algorithm-detail",1),n()()),e&2){let t,r=i;l(2),d((t=x(3,2,r.qualifiedName))?2:-1,t),l(3),s("algorithm",r)}}var Ze=class e{constructor(i,t,r){this.yamcs=t;let m=i.snapshot.paramMap.get("qualifiedName");this.algorithm$=t.yamcsClient.getAlgorithm(this.yamcs.instance,m),this.algorithm$.then(y=>{r.setTitle(y.name)})}static{this.\u0275fac=function(t){return new(t||e)(v(j),v(F),v(R))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],standalone:!0,features:[I],decls:2,vars:3,consts:[[1,"panel-content"],[3,"algorithm"],["routerLink","/mdb/algorithms",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,r){if(t&1&&(c(0,tn,6,4,"app-instance-page"),C(1,"async")),t&2){let m;d((m=x(1,1,r.algorithm$))?0:-1,m)}},dependencies:[We,k,B,w,$,A,Pe,U,Q],encapsulation:2,changeDetection:0})}};var et=class extends ce{constructor(t){super();this.yamcs=t;this.commands$=new T([]);this.totalSize$=new T(0);this.loading$=new T(!1)}connect(){return this.commands$}loadCommands(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getCommands(this.yamcs.instance,t).then(r=>{this.loading$.next(!1),this.totalSize$.next(r.totalSize),this.commands$.next(r.commands||[])})}getAliasNamespaces(){let t=[];for(let r of this.commands$.value)if(r.alias)for(let m of r.alias)m.namespace&&t.indexOf(m.namespace)===-1&&t.push(m.namespace);return t.sort()}disconnect(){this.commands$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var nn=["top"],an=e=>["/mdb/commands",e],on=e=>({c:e});function rn(e,i){e&1&&(a(0,"th",21),o(1,"Significance"),n())}function ln(e,i){if(e&1&&_(0,"app-significance-level",23),e&2){let t=p().$implicit;s("level",t.significance.consequenceLevel)}}function mn(e,i){e&1&&o(0," - ")}function pn(e,i){if(e&1&&(a(0,"td",22),c(1,ln,1,1,"app-significance-level",23)(2,mn,1,0),n()),e&2){let t=i.$implicit;l(),d(t.significance?1:2)}}function cn(e,i){e&1&&(a(0,"th",21),o(1,"Name"),n())}function dn(e,i){if(e&1&&(a(0,"td",22)(1,"a",24),_(2,"ya-highlight",25),n()()),e&2){let t=i.$implicit,r=p(2);l(),s("routerLink",h(4,an,t.qualifiedName))("queryParams",h(6,on,r.yamcs.context)),l(),s("text",r.shortName?t.name:t.qualifiedName)("term",r.filterControl.value)}}function sn(e,i){e&1&&(a(0,"th",21),o(1,"Abstract"),n())}function _n(e,i){if(e&1&&(a(0,"td",22),o(1),n()),e&2){let t=i.$implicit;l(),f(" ",t.abstract?"Yes":"-"," ")}}function un(e,i){e&1&&(a(0,"th",21),o(1,"Description"),n())}function fn(e,i){if(e&1&&_(0,"ya-highlight",25),e&2){let t=p(3);s("text",i)("term",t.filterControl.value)}}function Cn(e,i){e&1&&o(0," - ")}function xn(e,i){if(e&1&&(a(0,"td",26),c(1,fn,1,2,"ya-highlight",25)(2,Cn,1,0),n()),e&2){let t,r=i.$implicit;l(),d((t=r.shortDescription)?1:2,t)}}function yn(e,i){if(e&1&&(a(0,"th",21),o(1),n()),e&2){let t=p().$implicit;l(),f(" ",t.label," ")}}function hn(e,i){if(e&1&&_(0,"ya-highlight",25),e&2){let t=p(4);s("text",i)("term",t.filterControl.value)}}function vn(e,i){e&1&&o(0," - ")}function Sn(e,i){if(e&1&&(a(0,"td",22),c(1,hn,1,2,"ya-highlight",25),C(2,"alias"),c(3,vn,1,0),n()),e&2){let t,r=i.$implicit,m=p().$implicit;l(),d((t=N(2,1,r,m.id))?1:3,t)}}function gn(e,i){if(e&1&&(D(0,16),c(1,yn,2,1,"th",10)(2,Sn,4,4,"td",11),P()),e&2){let t=i.$implicit;s("matColumnDef",t.id)}}function En(e,i){e&1&&_(0,"th",27)}function Tn(e,i){e&1&&_(0,"td",22)}function Dn(e,i){e&1&&_(0,"tr",28)}function Pn(e,i){if(e&1&&_(0,"tr",29),e&2){let t=i.$implicit,r=p(2);ee("selected",r.selection.isSelected(t))}}function bn(e,i){if(e&1&&(a(0,"table",7),D(1,9),c(2,rn,2,0,"th",10)(3,pn,3,1,"td",11),P(),D(4,12),c(5,cn,2,0,"th",10)(6,dn,3,8,"td",11),P(),D(7,13),c(8,sn,2,0,"th",10)(9,_n,2,1,"td",11),P(),D(10,14),c(11,un,2,0,"th",10)(12,xn,3,1,"td",15),P(),g(13,gn,3,1,"ng-container",16,S),C(15,"async"),D(16,17),c(17,En,1,0,"th",18)(18,Tn,1,0,"td",11),P(),c(19,Dn,1,0,"tr",19),C(20,"async"),c(21,Pn,1,2,"tr",20),C(22,"async"),n()),e&2){let t=p(),r=le(9);s("dataSource",t.dataSource),l(13),E(x(15,3,t.aliasColumns$)),l(6),s("matHeaderRowDef",x(20,5,r.displayedColumns$)),l(2),s("matRowDefColumns",x(22,7,r.displayedColumns$))}}function In(e,i){if(e&1&&(a(0,"div",3),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any commands. "),n()),e&2){let t=p();l(3),u(t.yamcs.instance)}}var tt=class e{constructor(i,t,r,m,y){this.yamcs=i;this.route=r;this.router=m;this.messageService=y;this.shortName=!1;this.pageSize=100;this.filterControl=new oe;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"significance",label:"Significance",visible:!0},{id:"abstract",label:"Abstract",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.aliasColumns$=new T([]);this.selection=new de(!1);t.setTitle("Commands"),this.dataSource=new et(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;this.filterControl.setValue(i.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize,fields:["name","qualifiedName","alias","significance","abstract","shortDescription"]},t=this.filterControl.value;t&&(i.q=t.toLowerCase()),this.dataSource.loadCommands(i).then(()=>{this.selection.clear();for(let m of this.aliasColumns$.value){let y=this.columns.indexOf(m);y!==-1&&this.columns.splice(y,1)}let r=[];for(let m of this.dataSource.getAliasNamespaces()){let y={id:m,label:m,alwaysVisible:!0};r.push(y)}this.columns.splice(1,0,...r),this.aliasColumns$.next(r),this.columnChooser.recalculate(this.columns)}).catch(r=>this.messageService.showError(r))}updateURL(){let i=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:i||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.commands$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.min(i.indexOf(r)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.commands$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.max(i.indexOf(r)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.commands$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/commands",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}static{this.\u0275fac=function(t){return new(t||e)(v(F),v(R),v(j),v(ae),v(Te))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],viewQuery:function(t,r){if(t&1&&(V(nn,7),V(H,7),V(W,5)),t&2){let m;Y(m=O())&&(r.top=m.first),Y(m=O())&&(r.paginator=m.first),Y(m=O())&&(r.columnChooser=m.first)}},standalone:!0,features:[I],decls:15,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter commands",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","mdb-commands",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","significance"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","abstract"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap400",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"level"],[3,"routerLink","queryParams"],[3,"text","term"],["mat-cell","",1,"wrap400"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,r){if(t&1){let m=ie();a(0,"app-instance-page")(1,"app-instance-toolbar"),o(2,"Commands"),n(),_(3,"span",null,0),a(5,"div",3)(6,"div",4)(7,"ya-search-filter",5),ne("onArrowDown",function(){return M(m),q(r.selectNext())})("onArrowUp",function(){return M(m),q(r.selectPrevious())})("onEnter",function(){return M(m),q(r.applySelection())}),n(),_(8,"ya-column-chooser",6,1),n(),c(10,bn,23,9,"table",7),_(11,"mat-paginator",8),C(12,"async"),n()(),c(13,In,5,1,"ng-template",null,2,me)}t&2&&(l(7),s("formControl",r.filterControl),l(),s("columns",r.columns),l(2),d(r.dataSource?10:-1),l(),s("pageSize",r.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",x(12,7,r.dataSource.totalSize$)))},dependencies:[k,B,w,$,pe,we,A,H,_e,fe,he,Ce,ue,ve,xe,ye,Se,ge,W,Ee,De,Ae,Oe],encapsulation:2,changeDetection:0})}};function An(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td"),o(4),n()()),e&2){let t=i.$implicit;l(2),u(t.value),l(2),u(t.label)}}var it=class e{constructor(i){this.data=i}static{this.\u0275fac=function(t){return new(t||e)(v(Vt))}}static{this.\u0275cmp=b({type:e,selectors:[["app-argument-enum-dialog"]],standalone:!0,features:[I],decls:14,vars:0,consts:[["mat-dialog-title",""],["yaDataTable","",2,"width","100%"],["align","end"],["mat-dialog-close",""]],template:function(t,r){t&1&&(a(0,"h2",0),o(1,"Enum States"),n(),a(2,"mat-dialog-content")(3,"table",1)(4,"tr")(5,"th"),o(6,"Value"),n(),a(7,"th"),o(8,"Label"),n()(),g(9,An,5,2,"tr",null,S),n()(),a(11,"mat-dialog-actions",2)(12,"ya-button",3),o(13,"Close"),n()()),t&2&&(l(9),E(r.data.argument.type.enumValue))},dependencies:[w,Z,Ot,zt,Ht,jt,Ut],encapsulation:2})}};var Fn=(e,i)=>({c:e,filter:i}),Ln=e=>["/mdb/commands/",e],Re=e=>({c:e}),Nn=e=>["/mdb/algorithms/",e],$n=e=>["/mdb/containers/",e],oi=e=>["/mdb/parameters/",e];function Mn(e,i){if(e&1&&(a(0,"a",1),o(1),n()),e&2){let t=i,r=p();s("queryParams",z(2,Fn,r.yamcs.context,t)),l(),f(" ",t," ")}}function qn(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),u(t.namespace),l(2),u(t.name)}}function Rn(e,i){if(e&1&&_(0,"app-markdown",2),e&2){let t=p();s("text",t.command.longDescription)}}function Bn(e,i){e&1&&o(0," - ")}function kn(e,i){if(e&1&&(a(0,"dd")(1,"a",5),o(2),n()()),e&2){let t=p();l(),s("routerLink",h(3,Ln,t.command.baseCommand.qualifiedName))("queryParams",h(5,Re,t.yamcs.context)),l(),f(" ",t.command.baseCommand.qualifiedName," ")}}function Vn(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function Yn(e,i){if(e&1&&(a(0,"dd"),_(1,"app-significance-level",6),o(2),n()),e&2){let t=p();l(),s("level",t.command.significance.consequenceLevel),l(),f(" ",t.command.significance.reasonForWarning," ")}}function On(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function zn(e,i){if(e&1&&(o(0),_(1,"br")),e&2){let t=i.$implicit;te(" ",t.name," = ",t.value," ")}}function jn(e,i){if(e&1&&(a(0,"dd"),g(1,zn,2,2,"br",null,S),n()),e&2){let t=p();l(),E(t.command.argumentAssignment)}}function Hn(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function Un(e,i){if(e&1){let t=ie();a(0,"span",9),ne("click",function(){M(t);let m=p().$implicit,y=p(2);return q(y.showEnum(m))}),o(1),n()}if(e&2){let t=p().$implicit;l(),f(" ",t.type.engType," ")}}function Qn(e,i){if(e&1&&o(0),e&2){let t=p().$implicit;f(" ",t.type.engType||"-"," ")}}function Gn(e,i){if(e&1&&_(0,"ya-interval",8),e&2){let t=p().$implicit;s("left",t.type.rangeMin)("right",t.type.rangeMax)}}function Wn(e,i){e&1&&o(0," - ")}function Kn(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td"),o(4),n(),a(5,"td"),c(6,Un,2,1,"span",7)(7,Qn,1,1),n(),a(8,"td"),o(9),n(),a(10,"td"),o(11),n(),a(12,"td"),o(13),C(14,"nvl"),n(),a(15,"td"),o(16),n(),a(17,"td"),c(18,Gn,1,2,"ya-interval",8)(19,Wn,1,0),n(),a(20,"td"),o(21),n()()),e&2){let t,r=i.$implicit;l(2),u(r.name||"-"),l(2),u(r.description||"-"),l(2),d(r.type.engType==="enumeration"?6:-1),l(),d(r.type.engType!=="enumeration"?7:-1),l(2),u((t=r.type.signed)!==null&&t!==void 0?t:"-"),l(2),u(r.type.dataEncoding.encoding||"-"),l(2),u(N(14,10,r.type.dataEncoding.sizeInBits,"-")),l(3),f(" ",r.type.dataEncoding.littleEndian?"Little Endian":"Big Endian"," "),l(2),d(r.type.rangeMin||r.type.rangeMax?18:19),l(3),u(r.initialValue||"-")}}function Xn(e,i){if(e&1&&(a(0,"dd")(1,"table",4)(2,"tr")(3,"th"),o(4,"Name"),n(),a(5,"th"),o(6,"Description"),n(),a(7,"th"),o(8,"Type"),n(),a(9,"th"),o(10,"Signed"),n(),a(11,"th"),o(12,"Encoding"),n(),a(13,"th"),o(14,"Size in bits"),n(),a(15,"th"),o(16,"Byte order"),n(),a(17,"th"),o(18,"Range"),n(),a(19,"th"),o(20,"Initial value"),n()(),g(21,Kn,22,13,"tr",null,S),n()()),e&2){let t=p();l(21),E(t.command.argument)}}function Jn(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function Zn(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td"),o(4),n()()),e&2){let t=i.$implicit;l(2),u(t.expression),l(2),u(t.timeout||"-")}}function ea(e,i){if(e&1&&(a(0,"dd")(1,"table",4)(2,"tr")(3,"th"),o(4,"Constraint"),n(),a(5,"th"),o(6,"Timeout"),n()(),g(7,Zn,5,2,"tr",null,S),n()()),e&2){let t=p();l(7),E(t.command.constraint)}}function ta(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function ia(e,i){e&1&&o(0," Algorithm ")}function na(e,i){e&1&&o(0," Container ")}function aa(e,i){e&1&&o(0," Expression ")}function oa(e,i){if(e&1&&(a(0,"a",10),o(1),n()),e&2){let t=p().$implicit,r=p(2);s("routerLink",h(3,Nn,t.algorithm.qualifiedName))("queryParams",h(5,Re,r.yamcs.context)),l(),f(" ",t.algorithm.qualifiedName," ")}}function ra(e,i){if(e&1&&(a(0,"a",10),o(1),n()),e&2){let t=p().$implicit,r=p(2);s("routerLink",h(3,$n,t.container.qualifiedName))("queryParams",h(5,Re,r.yamcs.context)),l(),f(" ",t.container.qualifiedName," ")}}function la(e,i){if(e&1&&o(0),e&2){let t=p().$implicit;f(" ",t.expression," ")}}function ma(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td"),c(4,ia,1,0)(5,na,1,0)(6,aa,1,0),n(),a(7,"td"),c(8,oa,2,7,"a",10)(9,ra,2,7,"a",10)(10,la,1,1),n(),a(11,"td"),o(12),n(),a(13,"td"),o(14),n(),a(15,"td"),o(16),n(),a(17,"td"),o(18),n(),a(19,"td"),o(20),n()()),e&2){let t=i.$implicit;l(2),u(t.stage),l(2),d(t.algorithm?4:-1),l(),d(t.container?5:-1),l(),d(t.expression?6:-1),l(2),d(t.algorithm?8:-1),l(),d(t.container?9:-1),l(),d(t.expression?10:-1),l(2),te(" [",t.checkWindow.timeToStartChecking||"0",",",t.checkWindow.timeToStopChecking||"0","] "),l(2),u(t.checkWindow.relativeTo),l(2),u(t.onSuccess||"-"),l(2),u(t.onFail||"-"),l(2),u(t.onTimeout||"-")}}function pa(e,i){if(e&1&&(a(0,"table",4)(1,"tr")(2,"th"),o(3,"Stage"),n(),a(4,"th"),o(5,"Type"),n(),a(6,"th"),o(7,"Ref"),n(),a(8,"th"),o(9,"Check window"),n(),a(10,"th"),o(11,"Relative to"),n(),a(12,"th"),o(13,"On success"),n(),a(14,"th"),o(15,"On fail"),n(),a(16,"th"),o(17,"On timeout"),n()(),g(18,ma,21,13,"tr",null,S),n()),e&2){let t=p();l(18),E(t.command.verifier)}}function ca(e,i){e&1&&o(0," - ")}function da(e,i){if(e&1&&(a(0,"td"),o(1,"Argument"),n(),a(2,"td"),o(3),n(),a(4,"td"),o(5),n()),e&2){let t=p().$implicit;l(3),u(t.argument.name),l(2),u(t.argument.type.dataEncoding.sizeInBits)}}function sa(e,i){if(e&1&&(a(0,"td"),o(1,"Parameter"),n(),a(2,"td")(3,"a",5),o(4),n()(),a(5,"td"),o(6),n()),e&2){let t,r=p().$implicit,m=p(2);l(3),s("routerLink",h(4,oi,r.parameter.qualifiedName))("queryParams",h(6,Re,m.yamcs.context)),l(),f(" ",r.parameter.qualifiedName," "),l(2),u((t=r.parameter.type==null||r.parameter.type.dataEncoding==null?null:r.parameter.type.dataEncoding.sizeInBits)!==null&&t!==void 0?t:"-")}}function _a(e,i){if(e&1&&(a(0,"td"),o(1,"Fixed value"),n(),a(2,"td"),o(3),n(),a(4,"td"),o(5),n()),e&2){let t=p().$implicit;l(3),te("",t.fixedValue.name,": 0x",t.fixedValue.hexValue,""),l(2),u(t.fixedValue.sizeInBits)}}function ua(e,i){e&1&&o(0),e&2&&f(" (",i,") ")}function fa(e,i){if(e&1&&(a(0,"td"),o(1,"Indirect parameter"),n(),a(2,"td")(3,"a",5),o(4),c(5,ua,1,1),n()(),a(6,"td"),o(7,"-"),n()),e&2){let t,r=p().$implicit,m=p(2);l(3),s("routerLink",h(4,oi,r.indirectParameterRef.parameter.qualifiedName))("queryParams",h(6,Re,m.yamcs.context)),l(),f(" ",r.indirectParameterRef.parameter.qualifiedName," "),l(),d((t=r.indirectParameterRef.aliasNamespace)?5:-1,t)}}function Ca(e,i){if(e&1&&(a(0,"tr"),c(1,da,6,2)(2,sa,7,8)(3,_a,6,3)(4,fa,8,8),a(5,"td"),o(6),n(),a(7,"td"),o(8),n()()),e&2){let t=i.$implicit;l(),d(t.argument?1:t.parameter?2:t.fixedValue?3:t.indirectParameterRef?4:-1),l(5),u(t.locationInBits),l(2),u(t.referenceLocation)}}function xa(e,i){if(e&1&&(a(0,"table",4)(1,"tr")(2,"th"),o(3,"Type"),n(),a(4,"th"),o(5,"Ref"),n(),a(6,"th"),o(7,"Size in bits"),n(),a(8,"th"),o(9,"Location in bits"),n(),a(10,"th"),o(11,"Reference location"),n()(),g(12,Ca,9,3,"tr",null,S),n()),e&2){let t=p();l(12),E(t.command.commandContainer==null?null:t.command.commandContainer.entry)}}function ya(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}var nt=class e{constructor(i,t){this.yamcs=i;this.dialog=t}showEnum(i){this.dialog.open(it,{width:"400px",data:{argument:i}})}static{this.\u0275fac=function(t){return new(t||e)(v(F),v(Yt))}}static{this.\u0275cmp=b({type:e,selectors:[["app-command-detail"]],inputs:{command:"command"},standalone:!0,features:[I],decls:64,vars:16,consts:[[1,"dl-horizontal","no-lead"],["routerLink","/mdb/commands",1,"ya-link",3,"queryParams"],[3,"text"],[1,"dl-horizontal"],["yaDataTable",""],[1,"ya-link",3,"routerLink","queryParams"],[3,"level"],["matTooltip","Show enum states",1,"enum"],[3,"left","right"],["matTooltip","Show enum states",1,"enum",3,"click"],[3,"routerLink","queryParams"]],template:function(t,r){if(t&1&&(a(0,"dl",0)(1,"dt"),o(2,"Command"),n(),a(3,"dd"),o(4),C(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,Mn,2,5,"a",1),C(10,"spaceSystemName"),n(),g(11,qn,4,2,null,null,S),a(13,"dt"),o(14,"Short description"),n(),a(15,"dd"),o(16),n(),a(17,"dt"),o(18,"Long description"),n(),a(19,"dd"),c(20,Rn,1,1,"app-markdown",2)(21,Bn,1,0),n()(),_(22,"mat-divider"),a(23,"dl",3)(24,"dt"),o(25,"Base command"),n(),c(26,kn,3,7,"dd")(27,Vn,2,0,"dd"),a(28,"dt"),o(29,"Abstract"),n(),a(30,"dd"),o(31),n(),a(32,"dt"),o(33,"Significance"),n(),c(34,Yn,3,2,"dd")(35,On,2,0,"dd"),a(36,"dt"),o(37,"Argument assignments"),n(),c(38,jn,3,0,"dd")(39,Hn,2,0,"dd"),a(40,"dt"),o(41,"Arguments"),n(),c(42,Xn,23,0,"dd")(43,Jn,2,0,"dd"),n(),_(44,"mat-divider"),a(45,"dl",3)(46,"dt"),o(47,"Constraints"),n(),c(48,ea,9,0,"dd")(49,ta,2,0,"dd"),n(),_(50,"mat-divider"),a(51,"dl",3)(52,"dt"),o(53,"Verifiers"),n(),a(54,"dd"),c(55,pa,20,0,"table",4)(56,ca,1,0),n()(),_(57,"mat-divider"),a(58,"dl",3)(59,"dt"),o(60,"Sequence entries"),n(),a(61,"dd"),c(62,xa,14,0,"table",4)(63,ya,2,0,"span"),n()()),t&2){let m;l(4),u(x(5,12,r.command.qualifiedName)),l(5),d((m=x(10,14,r.command.qualifiedName))?9:-1,m),l(2),E(r.command.alias),l(5),u(r.command.shortDescription||"-"),l(4),d(r.command.longDescription?20:21),l(6),d(r.command.baseCommand?26:27),l(5),u(r.command.abstract?"Yes":"No"),l(3),d(r.command.significance?34:35),l(4),d(r.command.argumentAssignment?38:39),l(4),d(r.command.argument?42:43),l(6),d(r.command.constraint?48:49),l(7),d(r.command.verifier!=null&&r.command.verifier.length?55:56),l(7),d(r.command.commandContainer!=null&&r.command.commandContainer.entry?62:63)}},dependencies:[be,w,A,Z,se,Bt,Le,Ne,U,Q,Oe],styles:[".enum[_ngcontent-%COMP%]{border-bottom:1px dotted #888;cursor:pointer}"],changeDetection:0})}};var ha=(e,i)=>({c:e,filter:i});function va(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),C(3,"shortName"),_(4,"ya-title-copy",3)),e&2){let t=i,r=p(),m=p();s("queryParams",z(6,ha,m.yamcs.context,t)),l(),f(" ",t," "),l(),f("/",x(3,4,r.qualifiedName)," "),l(2),s("text",r.qualifiedName)}}function Sa(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,va,5,9),C(3,"spaceSystemName"),n(),a(4,"div",0),_(5,"app-command-detail",1),n()()),e&2){let t,r=i;l(2),d((t=x(3,2,r.qualifiedName))?2:-1,t),l(3),s("command",r)}}var at=class e{constructor(i,t,r){this.yamcs=t;this.title=r;this.command$=new T(null);i.paramMap.subscribe(m=>{let y=m.get("qualifiedName");this.changeCommand(y)})}changeCommand(i){this.yamcs.yamcsClient.getCommand(this.yamcs.instance,i).then(t=>{this.command$.next(t),this.title.setTitle(t.name)})}static{this.\u0275fac=function(t){return new(t||e)(v(j),v(F),v(R))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],standalone:!0,features:[I],decls:2,vars:3,consts:[[1,"panel-content"],[3,"command"],["routerLink","/mdb/commands",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,r){if(t&1&&(c(0,Sa,6,4,"app-instance-page"),C(1,"async")),t&2){let m;d((m=x(1,1,r.command$))?0:-1,m)}},dependencies:[nt,k,B,w,$,A,Pe,U,Q],encapsulation:2,changeDetection:0})}};var ot=class extends ce{constructor(t){super();this.yamcs=t;this.containers$=new T([]);this.totalSize$=new T(0);this.loading$=new T(!1)}connect(){return this.containers$}loadContainers(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getContainers(this.yamcs.instance,t).then(r=>{this.loading$.next(!1),this.totalSize$.next(r.totalSize),this.containers$.next(r.containers||[])})}getAliasNamespaces(){let t=[];for(let r of this.containers$.value)if(r.alias)for(let m of r.alias)m.namespace&&t.indexOf(m.namespace)===-1&&t.push(m.namespace);return t.sort()}disconnect(){this.containers$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var ga=["top"],Ea=e=>["/mdb/containers",e],ri=e=>({c:e}),Ta=e=>["/mdb/containers/",e];function Da(e,i){e&1&&(a(0,"th",25),o(1,"Name"),n())}function Pa(e,i){if(e&1&&(a(0,"td",26)(1,"a",27),_(2,"ya-highlight",28),n()()),e&2){let t=i.$implicit,r=p(2);l(),s("routerLink",h(4,Ea,t.qualifiedName))("queryParams",h(6,ri,r.yamcs.context)),l(),s("text",r.shortName?t.name:t.qualifiedName)("term",r.filterControl.value)}}function ba(e,i){e&1&&(a(0,"th",25),o(1,"Max interval"),n())}function Ia(e,i){if(e&1&&(a(0,"td",26),o(1),C(2,"millisDuration"),n()),e&2){let t=i.$implicit;l(),f(" ",x(2,1,t.maxInterval)||"-"," ")}}function wa(e,i){e&1&&(a(0,"th",25),o(1,"Size in bits"),n())}function Aa(e,i){if(e&1&&(a(0,"td",26),o(1),n()),e&2){let t=i.$implicit;l(),u(t.sizeInBits||"-")}}function Fa(e,i){e&1&&(a(0,"th",25),o(1,"Base container"),n())}function La(e,i){if(e&1&&(a(0,"a",29),o(1),n()),e&2){let t=p().$implicit,r=p(2);s("routerLink",h(3,Ta,t.baseContainer==null?null:t.baseContainer.qualifiedName))("queryParams",h(5,ri,r.yamcs.context)),l(),f(" ",(t.baseContainer==null?null:t.baseContainer.qualifiedName)||"-"," ")}}function Na(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function $a(e,i){if(e&1&&(a(0,"td",26),c(1,La,2,7,"a",29)(2,Na,2,0,"span"),n()),e&2){let t=i.$implicit;l(),d(t.baseContainer?1:2)}}function Ma(e,i){e&1&&(a(0,"th",25),o(1,"Restriction criteria"),n())}function qa(e,i){if(e&1&&(a(0,"td",26),o(1),n()),e&2){let t=i.$implicit;ee("mono",!!t.restrictionCriteriaExpression),l(),f(" ",t.restrictionCriteriaExpression||"-"," ")}}function Ra(e,i){e&1&&(a(0,"th",25),o(1,"Partition"),n())}function Ba(e,i){if(e&1&&(a(0,"td",26),o(1),n()),e&2){let t=i.$implicit;l(),f(" ",t.archivePartition?"Yes":"-"," ")}}function ka(e,i){e&1&&(a(0,"th",25),o(1,"Description"),n())}function Va(e,i){if(e&1&&(a(0,"td",30),o(1),n()),e&2){let t=i.$implicit;l(),f(" ",t.shortDescription||"-"," ")}}function Ya(e,i){if(e&1&&(a(0,"th",25),o(1),n()),e&2){let t=p().$implicit;l(),f(" ",t.label," ")}}function Oa(e,i){e&1&&o(0),e&2&&f(" ",i," ")}function za(e,i){e&1&&o(0," - ")}function ja(e,i){if(e&1&&(a(0,"td",26),c(1,Oa,1,1),C(2,"alias"),c(3,za,1,0),n()),e&2){let t,r=i.$implicit,m=p().$implicit;l(),d((t=N(2,1,r,m.id))?1:3,t)}}function Ha(e,i){if(e&1&&(D(0,20),c(1,Ya,2,1,"th",10)(2,ja,4,4,"td",11),P()),e&2){let t=i.$implicit;s("matColumnDef",t.id)}}function Ua(e,i){e&1&&_(0,"th",31)}function Qa(e,i){e&1&&_(0,"td",26)}function Ga(e,i){e&1&&_(0,"tr",32)}function Wa(e,i){if(e&1&&_(0,"tr",33),e&2){let t=i.$implicit,r=p(2);ee("selected",r.selection.isSelected(t))}}function Ka(e,i){if(e&1&&(a(0,"table",7),D(1,9),c(2,Da,2,0,"th",10)(3,Pa,3,8,"td",11),P(),D(4,12),c(5,ba,2,0,"th",10)(6,Ia,3,3,"td",11),P(),D(7,13),c(8,wa,2,0,"th",10)(9,Aa,2,1,"td",11),P(),D(10,14),c(11,Fa,2,0,"th",10)(12,$a,3,1,"td",11),P(),D(13,15),c(14,Ma,2,0,"th",10)(15,qa,2,3,"td",16),P(),D(16,17),c(17,Ra,2,0,"th",10)(18,Ba,2,1,"td",11),P(),D(19,18),c(20,ka,2,0,"th",10)(21,Va,2,1,"td",19),P(),g(22,Ha,3,1,"ng-container",20,S),C(24,"async"),D(25,21),c(26,Ua,1,0,"th",22)(27,Qa,1,0,"td",11),P(),c(28,Ga,1,0,"tr",23),C(29,"async"),c(30,Wa,1,2,"tr",24),C(31,"async"),n()),e&2){let t=p(),r=le(9);s("dataSource",t.dataSource),l(22),E(x(24,3,t.aliasColumns$)),l(6),s("matHeaderRowDef",x(29,5,r.displayedColumns$)),l(2),s("matRowDefColumns",x(31,7,r.displayedColumns$))}}function Xa(e,i){if(e&1&&(a(0,"div",3),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any containers. "),n()),e&2){let t=p();l(3),u(t.yamcs.instance)}}var rt=class e{constructor(i,t,r,m,y){this.yamcs=i;this.route=r;this.router=m;this.messageService=y;this.shortName=!1;this.pageSize=100;this.filterControl=new oe;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"maxInterval",label:"Max Interval",visible:!0},{id:"sizeInBits",label:"Size in bits",visible:!0},{id:"baseContainer",label:"Base Container",visible:!0},{id:"restrictionCriteria",label:"Restriction Criteria",visible:!0},{id:"archivePartition",label:"Partition"},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.aliasColumns$=new T([]);this.selection=new de(!1);t.setTitle("Containers"),this.dataSource=new ot(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;this.filterControl.setValue(i.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize},t=this.filterControl.value;t&&(i.q=t.toLowerCase()),this.dataSource.loadContainers(i).then(()=>{this.selection.clear();for(let m of this.aliasColumns$.value){let y=this.columns.indexOf(m);y!==-1&&this.columns.splice(y,1)}let r=[];for(let m of this.dataSource.getAliasNamespaces()){let y={id:m,label:m,alwaysVisible:!0};r.push(y)}this.columns.splice(1,0,...r),this.aliasColumns$.next(r),this.columnChooser.recalculate(this.columns)}).catch(r=>this.messageService.showError(r))}updateURL(){let i=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:i||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.containers$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.min(i.indexOf(r)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.containers$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.max(i.indexOf(r)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.containers$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/containers",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}static{this.\u0275fac=function(t){return new(t||e)(v(F),v(R),v(j),v(ae),v(Te))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],viewQuery:function(t,r){if(t&1&&(V(ga,7),V(H,7),V(W,5)),t&2){let m;Y(m=O())&&(r.top=m.first),Y(m=O())&&(r.paginator=m.first),Y(m=O())&&(r.columnChooser=m.first)}},standalone:!0,features:[I],decls:15,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter containers",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","containers",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","maxInterval"],["matColumnDef","sizeInBits"],["matColumnDef","baseContainer"],["matColumnDef","restrictionCriteria"],["mat-cell","",3,"mono",4,"matCellDef"],["matColumnDef","archivePartition"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap200",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],[1,"secundary",3,"routerLink","queryParams"],["mat-cell","",1,"wrap200"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,r){if(t&1){let m=ie();a(0,"app-instance-page")(1,"app-instance-toolbar"),o(2,"Containers"),n(),_(3,"span",null,0),a(5,"div",3)(6,"div",4)(7,"ya-search-filter",5),ne("onArrowDown",function(){return M(m),q(r.selectNext())})("onArrowUp",function(){return M(m),q(r.selectPrevious())})("onEnter",function(){return M(m),q(r.applySelection())}),n(),_(8,"ya-column-chooser",6,1),n(),c(10,Ka,32,9,"table",7),_(11,"mat-paginator",8),C(12,"async"),n(),c(13,Xa,5,1,"ng-template",null,2,me),n()}t&2&&(l(7),s("formControl",r.filterControl),l(),s("columns",r.columns),l(2),d(r.dataSource?10:-1),l(),s("pageSize",r.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",x(12,7,r.dataSource.totalSize$)))},dependencies:[k,B,w,$,pe,we,A,H,_e,fe,he,Ce,ue,ve,xe,ye,Se,ge,W,Ee,De,Ae,Ye],encapsulation:2,changeDetection:0})}};var Ja=(e,i)=>({c:e,filter:i}),li=e=>["/mdb/containers/",e],bt=e=>({c:e}),Za=e=>["/mdb/parameters/",e];function eo(e,i){if(e&1&&(a(0,"a",1),o(1),n()),e&2){let t=i,r=p();s("queryParams",z(2,Ja,r.yamcs.context,t)),l(),f(" ",t," ")}}function to(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),u(t.namespace),l(2),u(t.name)}}function io(e,i){if(e&1&&_(0,"app-markdown",2),e&2){let t=p();s("text",t.container.longDescription)}}function no(e,i){e&1&&o(0," - ")}function ao(e,i){if(e&1&&(a(0,"span"),o(1),C(2,"millisDuration"),n()),e&2){let t=p();l(),u(x(2,1,t.container.maxInterval))}}function oo(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function ro(e,i){if(e&1&&(a(0,"a",4),o(1),n()),e&2){let t=p();s("routerLink",h(3,li,t.container.baseContainer.qualifiedName))("queryParams",h(5,bt,t.yamcs.context)),l(),f(" ",t.container.baseContainer.qualifiedName||"-"," ")}}function lo(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function mo(e,i){if(e&1&&(a(0,"td"),o(1,"Parameter"),n(),a(2,"td")(3,"a",4),o(4),n()(),a(5,"td"),o(6),n()),e&2){let t,r=p().$implicit,m=p(2);l(3),s("routerLink",h(4,Za,r.parameter.qualifiedName))("queryParams",h(6,bt,m.yamcs.context)),l(),f(" ",r.parameter.qualifiedName," "),l(2),u((t=r.parameter.type==null||r.parameter.type.dataEncoding==null?null:r.parameter.type.dataEncoding.sizeInBits)!==null&&t!==void 0?t:"-")}}function po(e,i){if(e&1&&(a(0,"td"),o(1,"Container"),n(),a(2,"td")(3,"a",4),o(4),n()(),a(5,"td"),o(6),n()),e&2){let t,r=p().$implicit,m=p(2);l(3),s("routerLink",h(4,li,r.container.qualifiedName))("queryParams",h(6,bt,m.yamcs.context)),l(),f(" ",r.container.qualifiedName," "),l(2),u((t=r.container.sizeInBits)!==null&&t!==void 0?t:"-")}}function co(e,i){if(e&1&&(a(0,"tr"),c(1,mo,7,8)(2,po,7,8),a(3,"td"),o(4),n(),a(5,"td"),o(6),n()()),e&2){let t=i.$implicit;l(),d(t.parameter?1:-1),l(),d(t.container?2:-1),l(2),u(t.locationInBits),l(2),u(t.referenceLocation)}}function so(e,i){if(e&1&&(a(0,"table",6)(1,"tr")(2,"th"),o(3,"Type"),n(),a(4,"th"),o(5,"Ref"),n(),a(6,"th"),o(7,"Size in bits"),n(),a(8,"th"),o(9,"Location in bits"),n(),a(10,"th"),o(11,"Reference location"),n()(),g(12,co,7,4,"tr",null,S),n()),e&2){let t=p();l(12),E(t.container.entry)}}function _o(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}var lt=class e{constructor(i){this.yamcs=i}static{this.\u0275fac=function(t){return new(t||e)(v(F))}}static{this.\u0275cmp=b({type:e,selectors:[["app-container-detail"]],inputs:{container:"container"},standalone:!0,features:[I],decls:49,vars:13,consts:[[1,"dl-horizontal","no-lead"],["routerLink","/mdb/containers",1,"ya-link",3,"queryParams"],[3,"text"],[1,"dl-horizontal"],[1,"ya-link",3,"routerLink","queryParams"],[1,"mono"],["yaDataTable",""]],template:function(t,r){if(t&1&&(a(0,"dl",0)(1,"dt"),o(2,"Container"),n(),a(3,"dd"),o(4),C(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,eo,2,5,"a",1),C(10,"spaceSystemName"),n(),g(11,to,4,2,null,null,S),a(13,"dt"),o(14,"Short description"),n(),a(15,"dd"),o(16),n(),a(17,"dt"),o(18,"Long description"),n(),a(19,"dd"),c(20,io,1,1,"app-markdown",2)(21,no,1,0),n()(),_(22,"mat-divider"),a(23,"dl",3)(24,"dt"),o(25,"Max interval"),n(),a(26,"dd"),c(27,ao,3,3,"span")(28,oo,2,0,"span"),n(),a(29,"dt"),o(30,"Base container"),n(),a(31,"dd"),c(32,ro,2,7,"a",4)(33,lo,2,0,"span"),n(),a(34,"dt"),o(35,"Restriction criteria"),n(),a(36,"dd",5),o(37),n(),a(38,"dt"),o(39,"Archive partition"),n(),a(40,"dd"),o(41),n()(),_(42,"mat-divider"),a(43,"dl",3)(44,"dt"),o(45,"Sequence entries"),n(),a(46,"dd"),c(47,so,14,0,"table",6)(48,_o,2,0,"span"),n()()),t&2){let m;l(4),u(x(5,9,r.container.qualifiedName)),l(5),d((m=x(10,11,r.container.qualifiedName))?9:-1,m),l(2),E(r.container.alias),l(5),u(r.container.shortDescription||"-"),l(4),d(r.container.longDescription?20:21),l(7),d(r.container.maxInterval?27:28),l(5),d(r.container.baseContainer?32:33),l(5),f(" ",r.container.restrictionCriteriaExpression||"-"," "),l(4),f(" ",r.container.archivePartition?"Yes":"No"," "),l(6),d(r.container.entry?47:48)}},dependencies:[be,w,A,Z,se,Ye,U,Q],encapsulation:2,changeDetection:0})}};var uo=(e,i)=>({c:e,filter:i});function fo(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),C(3,"shortName"),_(4,"ya-title-copy",3)),e&2){let t=i,r=p(),m=p();s("queryParams",z(6,uo,m.yamcs.context,t)),l(),f(" ",t," "),l(),f("/",x(3,4,r.qualifiedName)," "),l(2),s("text",r.qualifiedName)}}function Co(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,fo,5,9),C(3,"spaceSystemName"),n(),a(4,"div",0),_(5,"app-container-detail",1),n()()),e&2){let t,r=i;l(2),d((t=x(3,2,r.qualifiedName))?2:-1,t),l(3),s("container",r)}}var mt=class e{constructor(i,t,r){this.yamcs=t;this.title=r;this.container$=new T(null);i.paramMap.subscribe(m=>{let y=m.get("qualifiedName");this.changeContainer(y)})}changeContainer(i){this.yamcs.yamcsClient.getContainer(this.yamcs.instance,i).then(t=>{this.container$.next(t),this.title.setTitle(t.name)})}static{this.\u0275fac=function(t){return new(t||e)(v(j),v(F),v(R))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],standalone:!0,features:[I],decls:2,vars:3,consts:[[1,"panel-content"],[3,"container"],["routerLink","/mdb/containers",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,r){if(t&1&&(c(0,Co,6,4,"app-instance-page"),C(1,"async")),t&2){let m;d((m=x(1,1,r.container$))?0:-1,m)}},dependencies:[lt,k,B,w,$,A,Pe,U,Q],encapsulation:2,changeDetection:0})}};var Be=e=>({c:e});function xo(e,i){if(e&1&&(a(0,"dl",1)(1,"dt"),o(2,"Parameters:"),n(),a(3,"dd")(4,"a",2),o(5),n()(),a(6,"dt"),o(7,"Parameter types:"),n(),a(8,"dd")(9,"a",3),o(10),n()(),a(11,"dt"),o(12,"Containers:"),n(),a(13,"dd")(14,"a",4),o(15),n()(),a(16,"dt"),o(17,"Commands:"),n(),a(18,"dd")(19,"a",5),o(20),n()(),a(21,"dt"),o(22,"Algorithms:"),n(),a(23,"dd")(24,"a",6),o(25),n()()()),e&2){let t=i,r=p();l(4),s("queryParams",h(10,Be,r.yamcs.context)),l(),u(t.parameterCount),l(4),s("queryParams",h(12,Be,r.yamcs.context)),l(),u(t.parameterTypeCount),l(4),s("queryParams",h(14,Be,r.yamcs.context)),l(),u(t.containerCount),l(4),s("queryParams",h(16,Be,r.yamcs.context)),l(),u(t.commandCount),l(4),s("queryParams",h(18,Be,r.yamcs.context)),l(),u(t.algorithmCount)}}var pt=class e{constructor(i,t){this.yamcs=i;t.setTitle("Mission database"),this.mdb$=i.yamcsClient.getMissionDatabase(i.instance)}static{this.\u0275fac=function(t){return new(t||e)(v(F),v(R))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],standalone:!0,features:[I],decls:6,vars:3,consts:[[1,"panel-content"],[1,"dl-horizontal","no-lead"],["routerLink","/mdb/parameters",1,"ya-link",3,"queryParams"],["routerLink","/mdb/parameter-types",1,"ya-link",3,"queryParams"],["routerLink","/mdb/containers",1,"ya-link",3,"queryParams"],["routerLink","/mdb/commands",1,"ya-link",3,"queryParams"],["routerLink","/mdb/algorithms",1,"ya-link",3,"queryParams"]],template:function(t,r){if(t&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),o(2," Mission database "),n(),a(3,"div",0),c(4,xo,26,20,"dl",1),C(5,"async"),n()()),t&2){let m;l(4),d((m=x(5,1,r.mdb$))?4:-1,m)}},dependencies:[k,B,w,$,A],encapsulation:2,changeDetection:0})}};var ct=class extends ce{constructor(t){super();this.yamcs=t;this.parameterTypes$=new T([]);this.totalSize$=new T(0);this.loading$=new T(!1)}connect(){return this.parameterTypes$}loadParameterTypes(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getParameterTypes(this.yamcs.instance,t).then(r=>{this.loading$.next(!1),this.totalSize$.next(r.totalSize),this.parameterTypes$.next(r.parameterTypes||[])})}getAliasNamespaces(){let t=[];for(let r of this.parameterTypes$.value)if(r.alias)for(let m of r.alias)m.namespace&&t.indexOf(m.namespace)===-1&&t.push(m.namespace);return t.sort()}disconnect(){this.parameterTypes$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var yo=["top"],ho=e=>["/mdb/parameter-types",e],vo=e=>({c:e});function So(e,i){e&1&&(a(0,"th",21),o(1,"Name"),n())}function go(e,i){if(e&1&&(a(0,"td",22)(1,"a",23),_(2,"ya-highlight",24),n()()),e&2){let t=i.$implicit,r=p(2);l(),s("routerLink",h(4,ho,t.qualifiedName))("queryParams",h(6,vo,r.yamcs.context)),l(),s("text",r.shortName?t.name:t.qualifiedName)("term",r.filterControl.value)}}function Eo(e,i){e&1&&(a(0,"th",21),o(1,"Type"),n())}function To(e,i){e&1&&(a(0,"span",25),o(1),n()),e&2&&(l(),f(" ",i," "))}function Do(e,i){e&1&&o(0," - ")}function Po(e,i){if(e&1&&(a(0,"td",22),c(1,To,2,1,"span",25)(2,Do,1,0),n()),e&2){let t,r=i.$implicit;l(),d((t=r.engType)?1:2,t)}}function bo(e,i){e&1&&(a(0,"th",21),o(1,"Units"),n())}function Io(e,i){if(e&1&&(a(0,"td",22),o(1),C(2,"units"),n()),e&2){let t=i.$implicit;l(),f(" ",x(2,1,t==null?null:t.unitSet)||"-"," ")}}function wo(e,i){e&1&&(a(0,"th",21),o(1,"Description"),n())}function Ao(e,i){if(e&1&&_(0,"ya-highlight",24),e&2){let t=p(3);s("text",i)("term",t.filterControl.value)}}function Fo(e,i){e&1&&o(0," - ")}function Lo(e,i){if(e&1&&(a(0,"td",26),c(1,Ao,1,2,"ya-highlight",24)(2,Fo,1,0),n()),e&2){let t,r=i.$implicit;l(),d((t=r.shortDescription)?1:2,t)}}function No(e,i){if(e&1&&(a(0,"th",21),o(1),n()),e&2){let t=p().$implicit;l(),f(" ",t.label," ")}}function $o(e,i){if(e&1&&_(0,"ya-highlight",24),e&2){let t=p(4);s("text",i)("term",t.filterControl.value)}}function Mo(e,i){e&1&&o(0," - ")}function qo(e,i){if(e&1&&(a(0,"td",22),c(1,$o,1,2,"ya-highlight",24),C(2,"alias"),c(3,Mo,1,0),n()),e&2){let t,r=i.$implicit,m=p().$implicit;l(),d((t=N(2,1,r,m.id))?1:3,t)}}function Ro(e,i){if(e&1&&(D(0,16),c(1,No,2,1,"th",10)(2,qo,4,4,"td",11),P()),e&2){let t=i.$implicit;s("matColumnDef",t.id)}}function Bo(e,i){e&1&&_(0,"th",27)}function ko(e,i){e&1&&_(0,"td",22)}function Vo(e,i){e&1&&_(0,"tr",28)}function Yo(e,i){if(e&1&&_(0,"tr",29),e&2){let t=i.$implicit,r=p(2);ee("selected",r.selection.isSelected(t))}}function Oo(e,i){if(e&1&&(a(0,"table",7),D(1,9),c(2,So,2,0,"th",10)(3,go,3,8,"td",11),P(),D(4,12),c(5,Eo,2,0,"th",10)(6,Po,3,1,"td",11),P(),D(7,13),c(8,bo,2,0,"th",10)(9,Io,3,3,"td",11),P(),D(10,14),c(11,wo,2,0,"th",10)(12,Lo,3,1,"td",15),P(),g(13,Ro,3,1,"ng-container",16,S),C(15,"async"),D(16,17),c(17,Bo,1,0,"th",18)(18,ko,1,0,"td",11),P(),c(19,Vo,1,0,"tr",19),C(20,"async"),c(21,Yo,1,2,"tr",20),C(22,"async"),n()),e&2){let t=p(),r=le(9);s("dataSource",t.dataSource),l(13),E(x(15,3,t.aliasColumns$)),l(6),s("matHeaderRowDef",x(20,5,r.displayedColumns$)),l(2),s("matRowDefColumns",x(22,7,r.displayedColumns$))}}function zo(e,i){if(e&1&&(a(0,"div",3),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any parameter types. "),n()),e&2){let t=p();l(3),u(t.yamcs.instance)}}var dt=class e{constructor(i,t,r,m,y){this.yamcs=i;this.route=r;this.router=m;this.messageService=y;this.shortName=!1;this.pageSize=100;this.filterControl=new oe;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"type",label:"Type",visible:!0},{id:"units",label:"Units",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.aliasColumns$=new T([]);this.selection=new de(!1);t.setTitle("Parameter types"),this.dataSource=new ct(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;this.filterControl.setValue(i.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize,fields:["name","qualifiedName","engType","unitSet","alias","shortDescription"]},t=this.filterControl.value;t&&(i.q=t.toLowerCase()),this.dataSource.loadParameterTypes(i).then(()=>{this.selection.clear();for(let m of this.aliasColumns$.value){let y=this.columns.indexOf(m);y!==-1&&this.columns.splice(y,1)}let r=[];for(let m of this.dataSource.getAliasNamespaces()){let y={id:m,label:m,alwaysVisible:!0};r.push(y)}this.columns.splice(1,0,...r),this.aliasColumns$.next(r),this.columnChooser.recalculate(this.columns)}).catch(r=>this.messageService.showError(r))}updateURL(){let i=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:i||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.parameterTypes$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.min(i.indexOf(r)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.parameterTypes$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.max(i.indexOf(r)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.parameterTypes$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/parameter-types",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}static{this.\u0275fac=function(t){return new(t||e)(v(F),v(R),v(j),v(ae),v(Te))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],viewQuery:function(t,r){if(t&1&&(V(yo,7),V(H,7),V(W,5)),t&2){let m;Y(m=O())&&(r.top=m.first),Y(m=O())&&(r.paginator=m.first),Y(m=O())&&(r.columnChooser=m.first)}},standalone:!0,features:[I],decls:15,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter parameter types",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","mdb-parameter-types",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","units"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap200",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],[1,"mono"],["mat-cell","",1,"wrap200"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,r){if(t&1){let m=ie();a(0,"app-instance-page")(1,"app-instance-toolbar"),o(2,"Parameter types"),n(),_(3,"span",null,0),a(5,"div",3)(6,"div",4)(7,"ya-search-filter",5),ne("onArrowDown",function(){return M(m),q(r.selectNext())})("onArrowUp",function(){return M(m),q(r.selectPrevious())})("onEnter",function(){return M(m),q(r.applySelection())}),n(),_(8,"ya-column-chooser",6,1),n(),c(10,Oo,23,9,"table",7),_(11,"mat-paginator",8),C(12,"async"),n()(),c(13,zo,5,1,"ng-template",null,2,me)}t&2&&(l(7),s("formControl",r.filterControl),l(),s("columns",r.columns),l(2),d(r.dataSource?10:-1),l(),s("pageSize",r.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",x(12,7,r.dataSource.totalSize$)))},dependencies:[k,B,w,$,pe,we,A,H,_e,fe,he,Ce,ue,ve,xe,ye,Se,ge,W,Ee,De,Ae,Fe],encapsulation:2,changeDetection:0})}};var st=class e{transform(i){if(!i||!i.length)return null;let t="",r=!0;for(let m=i.length-1;m>=0;m--)i[m]!==0&&(r||(i[m]>0?t+=" + ":t+=" - "),t+=Math.abs(i[m]),m===1?t+="\u{1D465}":m>=1&&(t+="\u{1D465}<sup>"+m+"</sup>"),r=!1);return t}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275pipe=Ft({name:"polynomial",type:e,pure:!0,standalone:!0})}};var jo=e=>["/mdb/parameters/",e],Ho=e=>({c:e});function Uo(e,i){if(e&1&&(_(0,"span",3),C(1,"polynomial")),e&2){let t=p();s("innerHTML",x(1,1,t.polynomialCalibrator.coefficients),vt)}}function Qo(e,i){if(e&1&&(a(0,"span"),o(1),n()),e&2){let t=p();l(),f("",t.splineCalibrator.points.length," points")}}function Go(e,i){if(e&1&&(a(0,"span"),o(1),n()),e&2){let t=p();l(),f(" ",t.javaExpressionCalibrator.formula," ")}}function Wo(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Ko(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"default"),n(),a(3,"td"),o(4),n(),a(5,"td"),c(6,Uo,2,3,"span",3)(7,Qo,2,1,"span")(8,Go,2,1,"span")(9,Wo,2,0,"span"),n()()),e&2){let t,r=i;l(4),u(r.type),l(2),d((t=r.type)==="POLYNOMIAL"?6:t==="SPLINE"?7:t==="JAVA_EXPRESSION"?8:9)}}function Xo(e,i){if(e&1&&(a(0,"a",4),o(1),n(),o(2),C(3,"operator")),e&2){let t=i.$implicit,r=p(4);s("routerLink",h(7,jo,t.parameter.qualifiedName))("queryParams",h(9,Ho,r.yamcs.context)),l(),f(" ",t.parameter.qualifiedName," "),l(),te(" ",x(3,5,t.operator)," ",t.value," ")}}function Jo(e,i){if(e&1&&(_(0,"span",3),C(1,"polynomial")),e&2){let t=p().$implicit;s("innerHTML",x(1,1,t.calibrator.polynomialCalibrator.coefficients),vt)}}function Zo(e,i){if(e&1&&(a(0,"span"),o(1),n()),e&2){let t=p().$implicit;l(),f(" ",t.calibrator.splineCalibrator.points.length," points ")}}function er(e,i){if(e&1&&(a(0,"span"),o(1),n()),e&2){let t=p().$implicit;l(),f(" ",t.calibrator.javaExpressionCalibrator.formula," ")}}function tr(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function ir(e,i){if(e&1&&(a(0,"tr")(1,"td"),g(2,Xo,4,11,null,null,S),n(),a(4,"td"),o(5),n(),a(6,"td"),c(7,Jo,2,3,"span",3)(8,Zo,2,1,"span")(9,er,2,1,"span")(10,tr,2,0,"span"),n()()),e&2){let t,r=i.$implicit;l(2),E(r.comparison),l(3),u(r.calibrator.type),l(2),d((t=r.calibrator.type)==="POLYNOMIAL"?7:t==="SPLINE"?8:t==="JAVA_EXPRESSION"?9:10)}}function nr(e,i){e&1&&g(0,ir,11,2,"tr",null,S),e&2&&E(i)}function ar(e,i){if(e&1&&(a(0,"table",0)(1,"tr")(2,"th",1),o(3,"Calibrator"),n(),a(4,"th",2),o(5,"Type"),n(),a(6,"th",1),o(7,"Definition"),n()(),c(8,Ko,10,2,"tr")(9,nr,2,0),n()),e&2){let t,r,m=p();l(8),d((t=m.ptype.dataEncoding==null?null:m.ptype.dataEncoding.defaultCalibrator)?8:-1,t),l(),d((r=m.ptype.dataEncoding==null?null:m.ptype.dataEncoding.contextCalibrators)?9:-1,r)}}function or(e,i){e&1&&o(0,` None
`)}var Me=class e{constructor(i){this.yamcs=i}static{this.\u0275fac=function(t){return new(t||e)(v(F))}}static{this.\u0275cmp=b({type:e,selectors:[["app-parameter-calibration"]],inputs:{ptype:"ptype"},standalone:!0,features:[I],decls:2,vars:1,consts:[["yaDataTable",""],["width","200"],["width","100"],[3,"innerHTML"],[3,"routerLink","queryParams"]],template:function(t,r){t&1&&c(0,ar,10,2,"table",0)(1,or,1,0),t&2&&d(r.ptype.dataEncoding!=null&&r.ptype.dataEncoding.defaultCalibrator||r.ptype.dataEncoding!=null&&r.ptype.dataEncoding.contextCalibrators?0:1)},dependencies:[st,w,A,Z,$e],encapsulation:2,changeDetection:0})}};var rr=(e,i)=>({c:e,filter:i}),mi=e=>["/mdb/parameters/",e],pi=e=>({c:e});function lr(e,i){if(e&1&&(a(0,"a",1),o(1),n()),e&2){let t=i,r=p();s("queryParams",z(2,rr,r.yamcs.context,t)),l(),f(" ",t," ")}}function mr(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),u(t.namespace),l(2),u(t.name)}}function pr(e,i){e&1&&(a(0,"span",2),o(1),n()),e&2&&(l(),f(" ",i," "))}function cr(e,i){e&1&&o(0," - ")}function dr(e,i){e&1&&(o(0),C(1,"units")),e&2&&f(" ",x(1,1,i)," ")}function sr(e,i){e&1&&o(0," - ")}function _r(e,i){if(e&1&&(a(0,"dt"),o(1,"Signed"),n(),a(2,"dd"),o(3),n()),e&2){let t=p();l(3),f(" ",t.parameterType.signed," ")}}function ur(e,i){if(e&1&&(a(0,"dt"),o(1,"Size in bits"),n(),a(2,"dd"),o(3),n()),e&2){let t=p();l(3),f(" ",t.parameterType.sizeInBits," ")}}function fr(e,i){if(e&1&&_(0,"app-markdown",3),e&2){let t=p();s("text",t.parameterType.longDescription)}}function Cr(e,i){e&1&&o(0," - ")}function xr(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"Parameter"),n(),a(3,"td")(4,"a",6),o(5),n()()()),e&2){let t=i.$implicit,r=p(2);l(4),s("routerLink",h(3,mi,t.qualifiedName))("queryParams",h(5,pi,r.yamcs.context)),l(),f(" ",t.qualifiedName," ")}}function yr(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Used By"),n(),a(4,"table",5)(5,"tr")(6,"th"),o(7,"Type"),n(),a(8,"th"),o(9,"Ref"),n()(),g(10,xr,6,7,"tr",null,S),n(),a(12,"p"),o(13,"\xA0"),n()),e&2){let t=p();l(10),E(t.parameterType.usedBy)}}function hr(e,i){if(e&1&&o(0),e&2){let t=p(2);f(" ",t!=null&&t.littleEndian?"Little Endian":"Big Endian"," ")}}function vr(e,i){e&1&&o(0," - ")}function Sr(e,i){if(e&1&&(a(0,"dt"),o(1,"Byte order"),n(),a(2,"dd"),c(3,hr,1,1)(4,vr,1,0),n()),e&2){let t=p();l(3),d((t==null?null:t.littleEndian)!==void 0?3:-1),l(),d((t==null?null:t.littleEndian)===void 0?4:-1)}}function gr(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Data Encoding"),n(),a(4,"dl",7)(5,"dt"),o(6,"Size in bits"),n(),a(7,"dd"),o(8),C(9,"nvl"),n(),c(10,Sr,5,2),a(11,"dt"),o(12,"Encoding"),n(),a(13,"dd"),o(14),n()()),e&2){let t=i;l(8),u(N(9,3,t==null?null:t.sizeInBits,"-")),l(2),d((t==null?null:t.littleEndian)!==void 0?10:-1),l(4),u((t==null?null:t.encoding)||"-")}}function Er(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Calibration"),n(),_(4,"app-parameter-calibration",8),a(5,"p"),o(6,"\xA0"),n()),e&2){let t=p();l(4),s("ptype",t.parameterType)}}function Tr(e,i){e&1&&o(0," , ")}function Dr(e,i){if(e&1&&(c(0,Tr,1,0),a(1,"a",12),o(2),n(),o(3),C(4,"operator")),e&2){let t=i.$implicit,r=i.$index,m=p(4);d(r!==0?0:-1),l(),s("routerLink",h(8,mi,t.parameter.qualifiedName))("queryParams",h(10,pi,m.yamcs.context)),l(),f(" ",t.parameter.name," "),l(),te(" ",x(4,6,t.operator)," ",t.value," ")}}function Pr(e,i){if(e&1&&(a(0,"th"),g(1,Dr,5,12,null,null,S),n()),e&2){let t=i.$implicit;l(),E(t.comparison)}}function br(e,i){if(e&1&&(_(0,"app-alarm-level",14),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),f(" ",t," ")}}function Ir(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function wr(e,i){if(e&1&&(_(0,"app-alarm-level",14),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),f(" ",t," ")}}function Ar(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Fr(e,i){if(e&1&&(a(0,"td"),c(1,wr,2,3)(2,Ar,2,0,"span"),n()),e&2){let t,r=i.$implicit,m=p().$implicit,y=p(3);l(),d((t=y.getEnumerationAlarmLevel(r,m))?1:2,t)}}function Lr(e,i){if(e&1&&(a(0,"tr")(1,"td",13),o(2),n(),a(3,"td",13),o(4),n(),a(5,"td"),o(6),n(),a(7,"td"),c(8,br,2,3)(9,Ir,2,0,"span"),n(),g(10,Fr,3,1,"td",null,S),n()),e&2){let t,r=i.$implicit,m=p(3);l(2),u(r.value),l(2),u(r.label),l(2),u(r.description||"-"),l(2),d((t=m.getDefaultAlarmLevel(m.parameterType,r))?8:9,t),l(2),E(m.parameterType.contextAlarm)}}function Nr(e,i){if(e&1&&(a(0,"table",5)(1,"tr")(2,"th",9),o(3,"Value"),n(),a(4,"th",10),o(5,"Label"),n(),a(6,"th",11),o(7,"Description"),n(),a(8,"th"),o(9,"Alarm level (default)"),n(),g(10,Pr,3,0,"th",null,S),n(),g(12,Lr,12,4,"tr",null,S),n()),e&2){let t=p(2);l(10),E(t.parameterType.contextAlarm),l(2),E(t.parameterType.enumValue)}}function $r(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Enumeration"),n(),c(4,Nr,14,0,"table",5),a(5,"p"),o(6,"\xA0"),n()),e&2){let t=p();l(4),d(t.parameterType.engType==="enumeration"?4:-1)}}function Mr(e,i){if(e&1&&(_(0,"ya-interval",16),C(1,"nvl"),C(2,"nvl")),e&2){let t=p().$implicit;s("left",N(1,5,t.minInclusive,t.minExclusive))("right",N(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function qr(e,i){e&1&&o(0," - ")}function Rr(e,i){if(e&1&&(a(0,"tr")(1,"td"),_(2,"app-alarm-level",14),o(3),n(),a(4,"td"),c(5,Mr,3,11,"ya-interval",16)(6,qr,1,0),n()()),e&2){let t=i.$implicit;l(2),s("level",t.level)("grayscale",!0),l(),f(" ",t.level," "),l(2),d(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function Br(e,i){if(e&1&&(a(0,"dl",15)(1,"dt"),o(2,"Min. violations"),n(),a(3,"dd"),o(4),n()(),a(5,"table",5)(6,"tr")(7,"th"),o(8,"Alarm level (default)"),n(),a(9,"th"),o(10,"Range"),n()(),g(11,Rr,7,4,"tr",null,S),n()),e&2){let t=i;l(4),u(t.minViolations),l(7),E(t.staticAlarmRanges)}}function kr(e,i){e&1&&(a(0,"p"),o(1,"\xA0"),n())}function Vr(e,i){if(e&1&&(_(0,"ya-interval",16),C(1,"nvl"),C(2,"nvl")),e&2){let t=p().$implicit;s("left",N(1,5,t.minInclusive,t.minExclusive))("right",N(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function Yr(e,i){e&1&&o(0," - ")}function Or(e,i){if(e&1&&(a(0,"tr")(1,"td"),_(2,"app-alarm-level",14),o(3),n(),a(4,"td"),c(5,Vr,3,11,"ya-interval",16)(6,Yr,1,0),n()()),e&2){let t=i.$implicit;l(2),s("level",t.level)("grayscale",!0),l(),f(" ",t.level," "),l(2),d(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function zr(e,i){if(e&1&&(c(0,kr,2,0,"p"),a(1,"h5"),o(2," Context: "),a(3,"code"),o(4),n()(),a(5,"dl",15)(6,"dt"),o(7,"Min. violations"),n(),a(8,"dd"),o(9),n()(),a(10,"table",5)(11,"tr")(12,"th"),o(13,"Level"),n(),a(14,"th"),o(15,"Range"),n()(),g(16,Or,7,4,"tr",null,S),n()),e&2){let t=i.$implicit,r=i.$index;d(r!==0?0:-1),l(4),u(t.context),l(5),u(t.alarm.minViolations),l(7),E(t.alarm.staticAlarmRanges)}}function jr(e,i){if(e&1&&(c(0,Br,13,1),g(1,zr,18,3,null,null,S)),e&2){let t,r=p(2);d((t=r.parameterType.defaultAlarm)?0:-1,t),l(),E(r.parameterType.contextAlarm)}}function Hr(e,i){e&1&&o(0," None ")}function Ur(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Alarm Info"),n(),c(4,jr,3,1)(5,Hr,1,0),a(6,"p"),o(7,"\xA0"),n()),e&2){let t=p();l(4),d(t.parameterType.defaultAlarm||t.parameterType.contextAlarm?4:5)}}var _t=class e{constructor(i){this.yamcs=i}getDefaultAlarmLevel(i,t){if(i&&i.defaultAlarm){let r=i.defaultAlarm;if(r.enumerationAlarms){for(let m of r.enumerationAlarms)if(m.label===t.label)return m.level}}}getEnumerationAlarmLevel(i,t){let r=i.alarm;for(let m of r.enumerationAlarms)if(m.label===t.label)return m.level}static{this.\u0275fac=function(t){return new(t||e)(v(F))}}static{this.\u0275cmp=b({type:e,selectors:[["app-parameter-type-detail"]],inputs:{parameterType:"parameterType"},standalone:!0,features:[I],decls:40,vars:17,consts:[[1,"dl-horizontal","no-lead"],["routerLink","/mdb/parameter-types",1,"ya-link",3,"queryParams"],[1,"mono"],[3,"text"],[1,"section-divider"],["yaDataTable",""],[3,"routerLink","queryParams"],[1,"dl-horizontal","no-trail"],[3,"ptype"],[2,"width","50px"],[2,"width","100px"],[2,"width","300px"],[1,"secundary",3,"routerLink","queryParams"],[2,"white-space","nowrap"],[3,"level","grayscale"],[1,"dl-horizontal"],[3,"left","right","leftInclusive","rightInclusive","outside"]],template:function(t,r){if(t&1&&(a(0,"dl",0)(1,"dt"),o(2,"Parameter type"),n(),a(3,"dd"),o(4),C(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,lr,2,5,"a",1),C(10,"spaceSystemName"),n(),g(11,mr,4,2,null,null,S),a(13,"dt"),o(14,"Type"),n(),a(15,"dd"),c(16,pr,2,1,"span",2)(17,cr,1,0),n(),a(18,"dt"),o(19,"Units"),n(),a(20,"dd"),c(21,dr,2,3)(22,sr,1,0),n(),c(23,_r,4,1)(24,ur,4,1),a(25,"dt"),o(26,"Short description"),n(),a(27,"dd"),o(28),n(),a(29,"dt"),o(30,"Long description"),n(),a(31,"dd"),c(32,fr,1,1,"app-markdown",3)(33,Cr,1,0),n()(),c(34,yr,14,0)(35,gr,15,6)(36,Er,7,1)(37,$r,7,1)(38,Ur,8,1),_(39,"mat-divider")),t&2){let m,y,L,It;l(4),u(x(5,13,r.parameterType.qualifiedName)),l(5),d((m=x(10,15,r.parameterType.qualifiedName))?9:-1,m),l(2),E(r.parameterType.alias),l(5),d((y=r.parameterType.engType)?16:17,y),l(5),d((L=r.parameterType.unitSet)?21:22,L),l(2),d(r.parameterType.signed!==void 0?23:-1),l(),d(r.parameterType.sizeInBits!==void 0?24:-1),l(4),u(r.parameterType.shortDescription||"-"),l(4),d(r.parameterType.longDescription?32:33),l(2),d(r.parameterType.usedBy!=null&&r.parameterType.usedBy.length?34:-1),l(),d((It=r.parameterType.dataEncoding)?35:-1,It),l(),d(r.parameterType.engType==="integer"||r.parameterType.engType==="float"?36:-1),l(),d(r.parameterType.engType==="enumeration"?37:-1),l(),d(r.parameterType.engType==="integer"||r.parameterType.engType==="float"?38:-1)}},dependencies:[ze,be,Me,w,A,Z,se,Le,Ne,$e,U,Q,Fe],styles:["[_nghost-%COMP%]{font:400 12px/20px Roboto,sans-serif}"],changeDetection:0})}};var Qr=(e,i)=>({c:e,filter:i});function Gr(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),C(3,"shortName"),_(4,"ya-title-copy",3)),e&2){let t=i,r=p(),m=p();s("queryParams",z(6,Qr,m.yamcs.context,t)),l(),f(" ",t," "),l(),f("/",x(3,4,r.qualifiedName)," "),l(2),s("text",r.qualifiedName)}}function Wr(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,Gr,5,9),C(3,"spaceSystemName"),n(),a(4,"div",0),_(5,"app-parameter-type-detail",1),n()()),e&2){let t,r=i;l(2),d((t=x(3,2,r.qualifiedName))?2:-1,t),l(3),s("parameterType",r)}}var ut=class e{constructor(i,t,r){this.yamcs=t;this.title=r;this.ptype$=new T(null);i.paramMap.subscribe(m=>{let y=m.get("qualifiedName");this.changeParameterType(y)})}changeParameterType(i){this.yamcs.yamcsClient.getParameterType(this.yamcs.instance,i).then(t=>{this.ptype$.next(t),this.title.setTitle(t.name)})}static{this.\u0275fac=function(t){return new(t||e)(v(j),v(F),v(R))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],standalone:!0,features:[I],decls:2,vars:3,consts:[[1,"panel-content"],[3,"parameterType"],["routerLink","/mdb/parameter-types",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,r){if(t&1&&(c(0,Wr,6,4,"app-instance-page"),C(1,"async")),t&2){let m;d((m=x(1,1,r.ptype$))?0:-1,m)}},dependencies:[k,B,_t,w,$,A,Pe,U,Q],encapsulation:2,changeDetection:0})}};var ft=class extends ce{constructor(t){super();this.yamcs=t;this.parameters$=new T([]);this.totalSize$=new T(0);this.loading$=new T(!1)}connect(){return this.parameters$}loadParameters(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getParameters(this.yamcs.instance,t).then(r=>{this.loading$.next(!1),this.totalSize$.next(r.totalSize),this.parameters$.next(r.parameters||[])})}getAliasNamespaces(){let t=[];for(let r of this.parameters$.value)if(r.alias)for(let m of r.alias)m.namespace&&t.indexOf(m.namespace)===-1&&t.push(m.namespace);return t.sort()}disconnect(){this.parameters$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var Kr=["top"],Xr=e=>["/mdb/parameters",e],Jr=e=>({c:e});function Zr(e,i){e&1&&(a(0,"th",25),o(1,"Name"),n())}function el(e,i){if(e&1&&(a(0,"td",26)(1,"a",27),C(2,"memberPath"),_(3,"ya-highlight",28),C(4,"memberPath"),n()()),e&2){let t=i.$implicit,r=p(2);l(),s("routerLink",h(8,Xr,x(2,4,t)))("queryParams",h(10,Jr,r.yamcs.context)),l(2),s("text",x(4,6,t))("term",r.filterForm.value.filter)}}function tl(e,i){e&1&&(a(0,"th",25),o(1,"Type"),n())}function il(e,i){e&1&&(a(0,"span",29),o(1),n()),e&2&&(l(),f(" ",i," "))}function nl(e,i){e&1&&o(0," - ")}function al(e,i){if(e&1&&(a(0,"td",26),c(1,il,2,1,"span",29),C(2,"parameterTypeForPath"),c(3,nl,1,0),n()),e&2){let t,r=i.$implicit;l(),d((t=(t=x(2,1,r))==null?null:t.engType)?1:3,t)}}function ol(e,i){e&1&&(a(0,"th",25),o(1,"Units"),n())}function rl(e,i){if(e&1&&(a(0,"td",26),o(1),C(2,"parameterTypeForPath"),C(3,"units"),n()),e&2){let t,r=i.$implicit;l(),f(" ",x(3,3,(t=x(2,1,r))==null?null:t.unitSet)||"-"," ")}}function ll(e,i){e&1&&(a(0,"th",25),o(1,"Data source"),n())}function ml(e,i){if(e&1&&(a(0,"td",26),o(1),C(2,"titlecase"),n()),e&2){let t=i.$implicit;l(),f(" ",x(2,1,t.dataSource)||"-"," ")}}function pl(e,i){e&1&&(a(0,"th",25),o(1,"Description"),n())}function cl(e,i){if(e&1&&(a(0,"td",30),o(1),n()),e&2){let t=i.$implicit;l(),f(" ",t.shortDescription||"-"," ")}}function dl(e,i){if(e&1&&(a(0,"th",25),o(1),n()),e&2){let t=p().$implicit;l(),f(" ",t.label," ")}}function sl(e,i){if(e&1&&_(0,"ya-highlight",28),e&2){let t=p(4);s("text",i)("term",t.filterForm.value.filter)}}function _l(e,i){e&1&&o(0," - ")}function ul(e,i){if(e&1&&(a(0,"td",26),c(1,sl,1,2,"ya-highlight",28),C(2,"alias"),c(3,_l,1,0),n()),e&2){let t,r=i.$implicit,m=p().$implicit;l(),d((t=N(2,1,r,m.id))?1:3,t)}}function fl(e,i){if(e&1&&(D(0,20),c(1,dl,2,1,"th",13)(2,ul,4,4,"td",14),P()),e&2){let t=i.$implicit;s("matColumnDef",t.id)}}function Cl(e,i){e&1&&_(0,"th",31)}function xl(e,i){e&1&&_(0,"td",26)}function yl(e,i){e&1&&_(0,"tr",32)}function hl(e,i){if(e&1&&_(0,"tr",33),e&2){let t=i.$implicit,r=p(2);ee("selected",r.selection.isSelected(t))}}function vl(e,i){if(e&1&&(a(0,"table",10),D(1,12),c(2,Zr,2,0,"th",13)(3,el,5,12,"td",14),P(),D(4,15),c(5,tl,2,0,"th",13)(6,al,4,3,"td",14),P(),D(7,16),c(8,ol,2,0,"th",13)(9,rl,4,5,"td",14),P(),D(10,17),c(11,ll,2,0,"th",13)(12,ml,3,3,"td",14),P(),D(13,18),c(14,pl,2,0,"th",13)(15,cl,2,1,"td",19),P(),g(16,fl,3,1,"ng-container",20,S),C(18,"async"),D(19,21),c(20,Cl,1,0,"th",22)(21,xl,1,0,"td",14),P(),c(22,yl,1,0,"tr",23),C(23,"async"),c(24,hl,1,2,"tr",24),C(25,"async"),n()),e&2){let t=p(),r=le(10);s("dataSource",t.dataSource),l(16),E(x(18,3,t.aliasColumns$)),l(6),s("matHeaderRowDef",x(23,5,r.displayedColumns$)),l(2),s("matRowDefColumns",x(25,7,r.displayedColumns$))}}function Sl(e,i){if(e&1&&(a(0,"div",3),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any parameters. "),n()),e&2){let t=p();l(3),u(t.yamcs.instance)}}var Ct=class e{constructor(i,t,r,m,y){this.yamcs=i;this.route=r;this.router=m;this.messageService=y;this.filterForm=new $t({filter:new oe,type:new oe("ANY"),source:new oe("ANY")});this.pageSize=100;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"type",label:"Type",visible:!0},{id:"units",label:"Units",visible:!0},{id:"dataSource",label:"Data source",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.aliasColumns$=new T([]);this.typeOptions=[{id:"ANY",label:"Any type"},{id:"aggregate",label:"aggregate"},{id:"array",label:"array"},{id:"binary",label:"binary"},{id:"boolean",label:"boolean"},{id:"enumeration",label:"enumeration"},{id:"float",label:"float"},{id:"integer",label:"integer"},{id:"string",label:"string"},{id:"time",label:"time"}];this.sourceOptions=[{id:"ANY",label:"Any source"},{id:"COMMAND",label:"Command"},{id:"COMMAND_HISTORY",label:"Command History"},{id:"CONSTANT",label:"Constant"},{id:"DERIVED",label:"Derived"},{id:"EXTERNAL1",label:"External 1"},{id:"EXTERNAL2",label:"External 2"},{id:"EXTERNAL3",label:"External 3"},{id:"GROUND",label:"Ground"},{id:"LOCAL",label:"Local"},{id:"SYSTEM",label:"System"},{id:"TELEMETERED",label:"Telemetered"}];this.selection=new de(!1);t.setTitle("Parameters"),this.dataSource=new ft(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;i.has("filter")&&(this.filter=i.get("filter")||"",this.filterForm.get("filter").setValue(this.filter)),i.has("type")&&(this.type=i.get("type"),this.filterForm.get("type").setValue(this.type)),i.has("source")&&(this.source=i.get("source"),this.filterForm.get("source").setValue(this.source)),this.filterForm.get("filter").valueChanges.subscribe(t=>{this.paginator.pageIndex=0,this.filter=t,this.updateDataSource()}),this.filterForm.get("type").valueChanges.forEach(t=>{this.type=t!=="ANY"?t:null,this.updateDataSource()}),this.filterForm.get("source").valueChanges.forEach(t=>{this.source=t!=="ANY"?t:null,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize,details:!0};this.filter&&(i.q=this.filter,i.searchMembers=!0),this.type&&(i.type=this.type),this.source&&(i.source=this.source),this.dataSource.loadParameters(i).then(()=>{this.selection.clear();for(let r of this.aliasColumns$.value){let m=this.columns.indexOf(r);m!==-1&&this.columns.splice(m,1)}let t=[];for(let r of this.dataSource.getAliasNamespaces()){let m={id:r,label:r,alwaysVisible:!0};t.push(m)}this.columns.splice(1,0,...t),this.aliasColumns$.next(t),this.columnChooser.recalculate(this.columns)}).catch(t=>this.messageService.showError(t))}updateURL(){this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:this.filter||null,type:this.type||null,source:this.source||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.parameters$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.min(i.indexOf(r)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.parameters$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.max(i.indexOf(r)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.parameters$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/parameters",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}static{this.\u0275fac=function(t){return new(t||e)(v(F),v(R),v(j),v(ae),v(Te))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],viewQuery:function(t,r){if(t&1&&(V(Kr,7),V(H,7),V(W,5)),t&2){let m;Y(m=O())&&(r.top=m.first),Y(m=O())&&(r.paginator=m.first),Y(m=O())&&(r.columnChooser=m.first)}},standalone:!0,features:[I],decls:19,vars:11,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[3,"formGroup"],[1,"filter-bar"],["formControlName","filter","placeholder","Filter parameters",3,"onArrowDown","onArrowUp","onEnter"],["preferenceKey","mdb-parameters",3,"columns"],["formControlName","type",3,"options"],["formControlName","source",3,"options"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","units"],["matColumnDef","dataSource"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap400",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],[1,"mono"],["mat-cell","",1,"wrap400"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,r){if(t&1){let m=ie();a(0,"app-instance-page")(1,"app-instance-toolbar"),o(2,"Parameters"),n(),_(3,"span",null,0),a(5,"div",3)(6,"form",4)(7,"div",5)(8,"ya-search-filter",6),ne("onArrowDown",function(){return M(m),q(r.selectNext())})("onArrowUp",function(){return M(m),q(r.selectPrevious())})("onEnter",function(){return M(m),q(r.applySelection())}),n(),_(9,"ya-column-chooser",7,1),n(),a(11,"div",5),_(12,"ya-select",8)(13,"ya-select",9),n()(),c(14,vl,26,9,"table",10),_(15,"mat-paginator",11),C(16,"async"),n(),c(17,Sl,5,1,"ng-template",null,2,me),n()}t&2&&(l(6),s("formGroup",r.filterForm),l(3),s("columns",r.columns),l(3),s("options",r.typeOptions),l(),s("options",r.sourceOptions),l(),d(r.dataSource?14:-1),l(),s("pageSize",r.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",x(16,9,r.dataSource.totalSize$)))},dependencies:[k,B,w,$,ke,Mt,pe,Nt,qt,Rt,A,H,_e,fe,he,Ce,ue,ve,xe,ye,Se,ge,W,Ee,De,Gt,Ae,Kt,Xt,Fe],encapsulation:2,changeDetection:0})}};var ci=(e,i)=>({c:e,filter:i}),di=e=>["/mdb/parameters",e],qe=e=>({c:e}),gl=e=>["/mdb/algorithms/",e],El=e=>["/mdb/containers/",e],si=e=>["/mdb/parameters/",e];function Tl(e,i){if(e&1&&(a(0,"a",4),o(1),n()),e&2){let t=i,r=p(3);s("queryParams",z(2,ci,r.yamcs.context,t)),l(),f(" ",t," ")}}function Dl(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),u(t.namespace),l(2),u(t.name)}}function Pl(e,i){e&1&&(a(0,"span",2),o(1),n()),e&2&&(l(),f(" ",i," "))}function bl(e,i){e&1&&o(0," - ")}function Il(e,i){if(e&1&&_(0,"app-markdown",3),e&2){let t=p(2);s("text",t.longDescription)}}function wl(e,i){e&1&&o(0," - ")}function Al(e,i){if(e&1&&(a(0,"dl",0)(1,"dt"),o(2,"Entry"),n(),a(3,"dd"),o(4),C(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,Tl,2,5,"a",4),C(10,"spaceSystemName"),n(),g(11,Dl,4,2,null,null,S),a(13,"dt"),o(14,"Type"),n(),a(15,"dd"),c(16,Pl,2,1,"span",2)(17,bl,1,0),n(),a(18,"dt"),o(19,"Source"),n(),a(20,"dd"),o(21),C(22,"titlecase"),n(),a(23,"dt"),o(24,"Short description"),n(),a(25,"dd"),o(26),n(),a(27,"dt"),o(28,"Long description"),n(),a(29,"dd"),c(30,Il,1,1,"app-markdown",3)(31,wl,1,0),n()()),e&2){let t,r,m=p(),y=p();l(4),te("",x(5,7,y.parameter.qualifiedName),"",y.offset,""),l(5),d((t=x(10,9,y.parameter.qualifiedName))?9:-1,t),l(2),E(m.alias),l(5),d((r=m.type==null?null:m.type.engType)?16:17,r),l(5),u(x(22,11,y.parameter.dataSource)||"-"),l(5),f(" ",m.shortDescription||"-"," "),l(4),d(m.longDescription?30:31)}}function Fl(e,i){if(e&1&&(a(0,"dt"),o(1,"Host parameter"),n(),a(2,"dd")(3,"a",5),o(4),C(5,"shortName"),n()()),e&2){let t=p(2);l(3),s("routerLink",h(5,di,t.parameter.qualifiedName))("queryParams",h(7,qe,t.yamcs.context)),l(),f(" ",x(5,3,t.parameter.qualifiedName)," ")}}function Ll(e,i){if(e&1&&(a(0,"dt"),o(1,"Parameter"),n(),a(2,"dd"),o(3),C(4,"shortName"),n()),e&2){let t=p(2);l(3),u(x(4,1,t.parameter.qualifiedName))}}function Nl(e,i){if(e&1&&(a(0,"a",4),o(1),n()),e&2){let t=i,r=p(3);s("queryParams",z(2,ci,r.yamcs.context,t)),l(),f(" ",t," ")}}function $l(e,i){if(e&1&&(a(0,"dt"),o(1,"System"),n(),a(2,"dd"),c(3,Nl,2,5,"a",4),C(4,"spaceSystemName"),n()),e&2){let t,r=p(2);l(3),d((t=x(4,1,r.parameter.qualifiedName))?3:-1,t)}}function Ml(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),u(t.namespace),l(2),u(t.name)}}function ql(e,i){e&1&&(a(0,"span",2),o(1),n()),e&2&&(l(),f(" ",i," "))}function Rl(e,i){e&1&&o(0," - ")}function Bl(e,i){e&1&&(o(0),C(1,"units")),e&2&&f(" ",x(1,1,i)," ")}function kl(e,i){e&1&&o(0," - ")}function Vl(e,i){if(e&1&&(a(0,"dt"),o(1,"Signed"),n(),a(2,"dd"),o(3),n()),e&2){let t,r=p(2);l(3),f(" ",(t=r.parameter.type==null?null:r.parameter.type.signed)!==null&&t!==void 0?t:"-"," ")}}function Yl(e,i){if(e&1&&(a(0,"dt"),o(1,"Size in bits"),n(),a(2,"dd"),o(3),n()),e&2){let t=p(2);l(3),f(" ",t.parameter.type==null?null:t.parameter.type.sizeInBits," ")}}function Ol(e,i){if(e&1&&(a(0,"dt"),o(1,"Source"),n(),a(2,"dd"),o(3),C(4,"titlecase"),n()),e&2){let t=p(2);l(3),u(x(4,1,t.parameter.dataSource)||"-")}}function zl(e,i){if(e&1&&_(0,"app-markdown",3),e&2){let t=p(2);s("text",t.parameter.longDescription)}}function jl(e,i){e&1&&o(0," - ")}function Hl(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"Algorithm"),n(),a(3,"td")(4,"a",8),o(5),n()()()),e&2){let t=i.$implicit,r=p(3);l(4),s("routerLink",h(3,gl,t.qualifiedName))("queryParams",h(5,qe,r.yamcs.context)),l(),f(" ",t.qualifiedName," ")}}function Ul(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"Container"),n(),a(3,"td")(4,"a",8),o(5),n()()()),e&2){let t=i.$implicit,r=p(3);l(4),s("routerLink",h(3,El,t.qualifiedName))("queryParams",h(5,qe,r.yamcs.context)),l(),f(" ",t.qualifiedName," ")}}function Ql(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Used By"),n(),a(4,"table",7)(5,"tr")(6,"th"),o(7,"Type"),n(),a(8,"th"),o(9,"Ref"),n()(),g(10,Hl,6,7,"tr",null,S),g(12,Ul,6,7,"tr",null,S),n(),a(14,"p"),o(15,"\xA0"),n()),e&2){let t=p();l(10),E(t.usedBy==null?null:t.usedBy.algorithm),l(2),E(t.usedBy==null?null:t.usedBy.container)}}function Gl(e,i){if(e&1&&o(0),e&2){let t=p(2);f(" ",t!=null&&t.littleEndian?"Little Endian":"Big Endian"," ")}}function Wl(e,i){e&1&&o(0," - ")}function Kl(e,i){if(e&1&&(a(0,"dt"),o(1,"Byte order"),n(),a(2,"dd"),c(3,Gl,1,1)(4,Wl,1,0),n()),e&2){let t=p();l(3),d((t==null?null:t.littleEndian)!==void 0?3:-1),l(),d((t==null?null:t.littleEndian)===void 0?4:-1)}}function Xl(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Data Encoding"),n(),a(4,"dl",1)(5,"dt"),o(6,"Size in bits"),n(),a(7,"dd"),o(8),C(9,"nvl"),n(),c(10,Kl,5,2),a(11,"dt"),o(12,"Encoding"),n(),a(13,"dd"),o(14),n()()),e&2){let t=i;l(8),u(N(9,3,t==null?null:t.sizeInBits,"-")),l(2),d((t==null?null:t.littleEndian)!==void 0?10:-1),l(4),u((t==null?null:t.encoding)||"-")}}function Jl(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Calibration"),n(),_(4,"app-parameter-calibration",9),a(5,"p"),o(6,"\xA0"),n()),e&2){let t=p();l(4),s("ptype",t.type)}}function Zl(e,i){e&1&&o(0," , ")}function em(e,i){if(e&1&&(c(0,Zl,1,0),a(1,"a",13),o(2),n(),o(3),C(4,"operator")),e&2){let t=i.$implicit,r=i.$index,m=p(5);d(r!==0?0:-1),l(),s("routerLink",h(8,si,t.parameter.qualifiedName))("queryParams",h(10,qe,m.yamcs.context)),l(),f(" ",t.parameter.name," "),l(),te(" ",x(4,6,t.operator)," ",t.value," ")}}function tm(e,i){if(e&1&&(a(0,"th"),g(1,em,5,12,null,null,S),n()),e&2){let t=i.$implicit;l(),E(t.comparison)}}function im(e,i){if(e&1&&(_(0,"app-alarm-level",15),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),f(" ",t," ")}}function nm(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function am(e,i){if(e&1&&(_(0,"app-alarm-level",15),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),f(" ",t," ")}}function om(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function rm(e,i){if(e&1&&(a(0,"td"),c(1,am,2,3)(2,om,2,0,"span"),n()),e&2){let t,r=i.$implicit,m=p().$implicit,y=p(4);l(),d((t=y.getEnumerationAlarmLevel(r,m))?1:2,t)}}function lm(e,i){if(e&1&&(a(0,"tr")(1,"td",14),o(2),n(),a(3,"td",14),o(4),n(),a(5,"td"),o(6),n(),a(7,"td"),c(8,im,2,3)(9,nm,2,0,"span"),n(),g(10,rm,3,1,"td",null,S),n()),e&2){let t,r=i.$implicit,m=p(3),y=p();l(2),u(r.value),l(2),u(r.label),l(2),u(r.description||"-"),l(2),d((t=y.getDefaultAlarmLevel(m.type,r))?8:9,t),l(2),E(m.type.contextAlarm)}}function mm(e,i){if(e&1&&(a(0,"table",7)(1,"tr")(2,"th",10),o(3,"Value"),n(),a(4,"th",11),o(5,"Label"),n(),a(6,"th",12),o(7,"Description"),n(),a(8,"th"),o(9,"Alarm level (default)"),n(),g(10,tm,3,0,"th",null,S),n(),g(12,lm,12,4,"tr",null,S),n()),e&2){let t=p(2);l(10),E(t.type==null?null:t.type.contextAlarm),l(2),E(t.type==null?null:t.type.enumValue)}}function pm(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Enumeration"),n(),c(4,mm,14,0,"table",7),a(5,"p"),o(6,"\xA0"),n()),e&2){let t=p();l(4),d((t.type==null?null:t.type.engType)==="enumeration"?4:-1)}}function cm(e,i){if(e&1&&(_(0,"ya-interval",17),C(1,"nvl"),C(2,"nvl")),e&2){let t=p().$implicit;s("left",N(1,5,t.minInclusive,t.minExclusive))("right",N(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function dm(e,i){e&1&&o(0," - ")}function sm(e,i){if(e&1&&(a(0,"tr")(1,"td"),_(2,"app-alarm-level",15),o(3),n(),a(4,"td"),c(5,cm,3,11,"ya-interval",17)(6,dm,1,0),n()()),e&2){let t=i.$implicit;l(2),s("level",t.level)("grayscale",!0),l(),f(" ",t.level," "),l(2),d(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function _m(e,i){if(e&1&&(a(0,"dl",16)(1,"dt"),o(2,"Min. violations"),n(),a(3,"dd"),o(4),n()(),a(5,"table",7)(6,"tr")(7,"th"),o(8,"Alarm level (default)"),n(),a(9,"th"),o(10,"Range"),n()(),g(11,sm,7,4,"tr",null,S),n()),e&2){let t=i;l(4),u(t.minViolations),l(7),E(t.staticAlarmRanges)}}function um(e,i){e&1&&(a(0,"p"),o(1,"\xA0"),n())}function fm(e,i){if(e&1&&(_(0,"ya-interval",17),C(1,"nvl"),C(2,"nvl")),e&2){let t=p().$implicit;s("left",N(1,5,t.minInclusive,t.minExclusive))("right",N(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function Cm(e,i){e&1&&o(0," - ")}function xm(e,i){if(e&1&&(a(0,"tr")(1,"td"),_(2,"app-alarm-level",15),o(3),n(),a(4,"td"),c(5,fm,3,11,"ya-interval",17)(6,Cm,1,0),n()()),e&2){let t=i.$implicit;l(2),s("level",t.level)("grayscale",!0),l(),f(" ",t.level," "),l(2),d(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function ym(e,i){if(e&1&&(c(0,um,2,0,"p"),a(1,"h5"),o(2," Context: "),a(3,"code"),o(4),n()(),a(5,"dl",16)(6,"dt"),o(7,"Min. violations"),n(),a(8,"dd"),o(9),n()(),a(10,"table",7)(11,"tr")(12,"th"),o(13,"Level"),n(),a(14,"th"),o(15,"Range"),n()(),g(16,xm,7,4,"tr",null,S),n()),e&2){let t=i.$implicit,r=i.$index;d(r!==0?0:-1),l(4),u(t.context),l(5),u(t.alarm.minViolations),l(7),E(t.alarm.staticAlarmRanges)}}function hm(e,i){if(e&1&&(c(0,_m,13,1),g(1,ym,18,3,null,null,S)),e&2){let t,r=p(2);d((t=r.type==null?null:r.type.defaultAlarm)?0:-1,t),l(),E(r.type==null?null:r.type.contextAlarm)}}function vm(e,i){e&1&&o(0," None ")}function Sm(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Alarm Info"),n(),c(4,hm,3,1)(5,vm,1,0),a(6,"p"),o(7,"\xA0"),n()),e&2){let t=p();l(4),d(t.type!=null&&t.type.defaultAlarm||t.type!=null&&t.type.contextAlarm?4:5)}}function gm(e,i){if(e&1&&(a(0,"dt"),o(1,"Epoch"),n(),a(2,"dd"),o(3),n()),e&2){let t=p(2);l(3),u(t.type==null?null:t.type.absoluteTimeInfo.epoch)}}function Em(e,i){if(e&1&&(a(0,"dt"),o(1,"Offset from"),n(),a(2,"dd")(3,"a",5),o(4),n()()),e&2){let t=p(2),r=p();l(3),s("routerLink",h(3,si,t.type==null?null:t.type.absoluteTimeInfo.offsetFrom.qualifiedName))("queryParams",h(5,qe,r.yamcs.context)),l(),f(" ",t.type==null?null:t.type.absoluteTimeInfo.offsetFrom.qualifiedName," ")}}function Tm(e,i){if(e&1&&(a(0,"dt"),o(1,"Offset"),n(),a(2,"dd"),o(3),n()),e&2){let t=p(2);l(3),u(t.type==null?null:t.type.absoluteTimeInfo.offset)}}function Dm(e,i){if(e&1&&(a(0,"dt"),o(1,"Scale"),n(),a(2,"dd"),o(3),n()),e&2){let t=p(2);l(3),u(t.type==null?null:t.type.absoluteTimeInfo.scale)}}function Pm(e,i){if(e&1&&(a(0,"dt"),o(1,"Initial value"),n(),a(2,"dd"),o(3),n()),e&2){let t=p(2);l(3),u(t.type==null?null:t.type.absoluteTimeInfo.initialValue)}}function bm(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Time Info"),n(),a(4,"dl",16),c(5,gm,4,1)(6,Em,5,7)(7,Tm,4,1)(8,Dm,4,1)(9,Pm,4,1),n()),e&2){let t=p();l(5),d(t.type!=null&&t.type.absoluteTimeInfo.epoch?5:-1),l(),d(t.type!=null&&t.type.absoluteTimeInfo.offsetFrom?6:-1),l(),d((t.type==null?null:t.type.absoluteTimeInfo.offset)!==void 0?7:-1),l(),d((t.type==null?null:t.type.absoluteTimeInfo.scale)!==void 0?8:-1),l(),d((t.type==null?null:t.type.absoluteTimeInfo.initialValue)!==void 0?9:-1)}}function Im(e,i){e&1&&(a(0,"span",2),o(1),n()),e&2&&(l(),f(" ",i," "))}function wm(e,i){e&1&&o(0," - ")}function Am(e,i){if(e&1&&(a(0,"td")(1,"a",8),o(2),n()(),a(3,"td"),c(4,Im,2,1,"span",2),C(5,"entryForOffset"),c(6,wm,1,0),n(),a(7,"td"),o(8),C(9,"entryForOffset"),n()),e&2){let t,r,m=i,y=p().$implicit,L=p(3);l(),s("routerLink",h(11,di,L.parameter.qualifiedName+m))("queryParams",h(13,qe,L.yamcs.context)),l(),f(" ",y.name," "),l(2),d((t=(t=N(5,5,L.parameter,m))==null||t.type==null?null:t.type.engType)?4:6,t),l(4),u(((r=N(9,8,L.parameter,m))==null?null:r.shortDescription)||"-")}}function Fm(e,i){if(e&1&&(a(0,"tr"),c(1,Am,10,15),n()),e&2){let t,r=i.$implicit,m=p(3);l(),d((t=(m.offset||"")+"."+r.name)?1:-1,t)}}function Lm(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Members"),n(),a(4,"table",7)(5,"tr")(6,"th"),o(7,"Member"),n(),a(8,"th"),o(9,"Type"),n(),a(10,"th"),o(11,"Description"),n()(),g(12,Fm,2,1,"tr",null,S),n()),e&2){let t=p();l(12),E(t.type==null?null:t.type.member)}}function Nm(e,i){if(e&1&&(c(0,Al,32,13,"dl",0),a(1,"dl",1),c(2,Fl,6,9)(3,Ll,5,3)(4,$l,5,3),g(5,Ml,4,2,null,null,S),a(7,"dt"),o(8,"Type"),n(),a(9,"dd"),c(10,ql,2,1,"span",2)(11,Rl,1,0),n(),a(12,"dt"),o(13,"Units"),n(),a(14,"dd"),c(15,Bl,2,3)(16,kl,1,0),n(),c(17,Vl,4,1)(18,Yl,4,1)(19,Ol,5,3),a(20,"dt"),o(21,"Short description"),n(),a(22,"dd"),o(23),n(),a(24,"dt"),o(25,"Long description"),n(),a(26,"dd"),c(27,zl,1,1,"app-markdown",3)(28,jl,1,0),n()(),c(29,Ql,16,0)(30,Xl,15,6)(31,Jl,7,1)(32,pm,7,1)(33,Sm,8,1)(34,bm,10,5)(35,Lm,14,0)),e&2){let t,r,m,y=i,L=p();d(L.offset?0:-1),l(),ee("no-lead",!L.offset),l(),d(L.offset?2:-1),l(),d(L.offset?-1:3),l(),d(L.offset?-1:4),l(),E(L.parameter.alias),l(5),d((t=L.parameter.type==null?null:L.parameter.type.engType)?10:11,t),l(5),d((r=L.parameter.type==null?null:L.parameter.type.unitSet)?15:16,r),l(2),d((L.parameter.type==null?null:L.parameter.type.signed)!==void 0?17:-1),l(),d((L.parameter.type==null?null:L.parameter.type.sizeInBits)!==void 0?18:-1),l(),d(L.offset?-1:19),l(4),f(" ",L.parameter.shortDescription||"-"," "),l(4),d(L.parameter.longDescription?27:28),l(2),d(y.usedBy!=null&&y.usedBy.algorithm||y.usedBy!=null&&y.usedBy.container?29:-1),l(),d((m=y.type==null?null:y.type.dataEncoding)?30:-1,m),l(),d((y.type==null?null:y.type.engType)==="integer"||(y.type==null?null:y.type.engType)==="float"?31:-1),l(),d((y.type==null?null:y.type.engType)==="enumeration"?32:-1),l(),d((y.type==null?null:y.type.engType)==="integer"||(y.type==null?null:y.type.engType)==="float"?33:-1),l(),d((y.type==null?null:y.type.engType)==="time"?34:-1),l(),d((y.type==null?null:y.type.engType)==="aggregate"?35:-1)}}var xt=class e{constructor(i){this.yamcs=i;this.entry$=new T(null)}ngOnChanges(){if(this.parameter)if(this.offset){let i=Qt.getEntryForOffset(this.parameter,this.offset);this.entry$.next(i)}else this.entry$.next(this.parameter);else this.entry$.next(null)}getDefaultAlarmLevel(i,t){if(i&&i.defaultAlarm){let r=i.defaultAlarm;if(r.enumerationAlarms){for(let m of r.enumerationAlarms)if(m.label===t.label)return m.level}}}getEnumerationAlarmLevel(i,t){let r=i.alarm;for(let m of r.enumerationAlarms)if(m.label===t.label)return m.level}static{this.\u0275fac=function(t){return new(t||e)(v(F))}}static{this.\u0275cmp=b({type:e,selectors:[["app-parameter-detail"]],inputs:{parameter:"parameter",offset:"offset"},standalone:!0,features:[Lt,I],decls:2,vars:3,consts:[[1,"dl-horizontal","no-lead","no-trail"],[1,"dl-horizontal","no-trail"],[1,"mono"],[3,"text"],["routerLink","/mdb/parameters",1,"ya-link",3,"queryParams"],[1,"ya-link",3,"routerLink","queryParams"],[1,"section-divider"],["yaDataTable",""],[3,"routerLink","queryParams"],[3,"ptype"],[2,"width","50px"],[2,"width","100px"],[2,"width","300px"],[1,"secundary",3,"routerLink","queryParams"],[2,"white-space","nowrap"],[3,"level","grayscale"],[1,"dl-horizontal"],[3,"left","right","leftInclusive","rightInclusive","outside"]],template:function(t,r){if(t&1&&(c(0,Nm,36,20),C(1,"async")),t&2){let m;d((m=x(1,1,r.entry$))?0:-1,m)}},dependencies:[ze,be,Me,w,$,ke,A,Z,se,Le,Wt,Ne,$e,U,Q,Fe],styles:["[_nghost-%COMP%]{font:400 12px/20px Roboto,sans-serif}.dl-horizontal[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{text-align:left}"],changeDetection:0})}};var $m=(e,i)=>({c:e,filter:i});function Mm(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),C(3,"shortName"),C(4,"async"),_(5,"ya-title-copy",3),C(6,"async")),e&2){let t=i,r=p(),m=p();s("queryParams",z(11,$m,m.yamcs.context,t)),l(),f(" ",t," "),l(),te("/",x(3,5,r.qualifiedName),"",x(4,7,m.offset$)," "),l(3),s("text",r.qualifiedName+(x(6,9,m.offset$)||""))}}function qm(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,Mm,7,14),C(3,"spaceSystemName"),n(),a(4,"div",0),_(5,"app-parameter-detail",1),C(6,"async"),n()()),e&2){let t,r=i,m=p();l(2),d((t=x(3,3,r.qualifiedName))?2:-1,t),l(3),s("parameter",r)("offset",x(6,5,m.offset$))}}var yt=class e{constructor(i,t,r){this.yamcs=t;this.title=r;this.parameter$=new T(null);this.offset$=new T(null);i.paramMap.subscribe(m=>{let y=m.get("qualifiedName");this.changeParameter(y)})}changeParameter(i){this.yamcs.yamcsClient.getParameter(this.yamcs.instance,i).then(t=>{this.parameter$.next(t);let r;i!==t.qualifiedName?r=i.substring(t.qualifiedName.length):r=null,this.offset$.next(r),this.title.setTitle(t.name+(r||""))})}static{this.\u0275fac=function(t){return new(t||e)(v(j),v(F),v(R))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],standalone:!0,features:[I],decls:2,vars:3,consts:[[1,"panel-content"],[3,"parameter","offset"],["routerLink","/mdb/parameters",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,r){if(t&1&&(c(0,qm,7,7,"app-instance-page"),C(1,"async")),t&2){let m;d((m=x(1,1,r.parameter$))?0:-1,m)}},dependencies:[k,B,xt,w,$,A,Pe,U,Q],styles:[".tab-content-wrapper[_ngcontent-%COMP%]{position:absolute;inset:49px 0 0;overflow:auto}.tab-content-wrapper.noscroll[_ngcontent-%COMP%]{overflow:hidden}"],changeDetection:0})}};var Id=[{path:"",canActivate:[Et,gt,Pt],canActivateChild:[Tt,Pt],component:ti,children:[{path:"",pathMatch:"full",component:pt},{path:"algorithms",pathMatch:"full",component:He},{path:"algorithms/:qualifiedName",component:Ze},{path:"commands",pathMatch:"full",component:tt},{path:"commands/:qualifiedName",component:at},{path:"containers",pathMatch:"full",component:rt},{path:"containers/:qualifiedName",component:mt},{path:"parameters",pathMatch:"full",component:Ct},{path:"parameters/:qualifiedName",component:yt},{path:"parameter-types",pathMatch:"full",component:dt},{path:"parameter-types/:qualifiedName",component:ut},{path:"ext",canActivate:[Et,gt],canActivateChild:[Tt],runGuardsAndResolvers:"always",children:[{matcher:ei,component:Zt}]}]}];export{Id as ROUTES};
